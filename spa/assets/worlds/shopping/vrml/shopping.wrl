#VRML V2.0 utf8
#hg 09/2001 VRML syntax fixes
EXTERNPROTO HUD[
 	field SFVec3f bboxSize 
	field SFVec3f bboxCenter 
	exposedField MFNode children 
	eventIn MFNode addChildren
	eventIn MFNode removeChildren
]
["urn:inet:blaxxun.com:node:HUD","http://www.blaxxun.com/vrml/protos/nodes.wrl#HUD"]

Inline{url"/places/no_cache/shopping/temp.wrl"}


EXTERNPROTO Occlusion[
exposedField SFVec3f bboxSize
exposedField SFVec3f bboxCenter
exposedField SFBool enabled
exposedField SFNode proxy
exposedField MFNode children
eventIn MFNode addChildren
eventIn MFNode removeChildren
eventOut SFBool isActive
eventOut SFTime enterTime
eventOut SFTime exitTime
]
["urn:inet:blaxxun.com:node:Occlusion","http://www.blaxxun.com/vrml/protos/nodes.wrl#Occlusion","nodes.wrl#Occlusion"]

EXTERNPROTO malldirectory[
field SFVec3f position 
]"/externprotos/malldirectory/malldirectory.wrl#MallDirectory"

EXTERNPROTO SharedObject [
exposedField SFVec3f translation
exposedField SFRotation rotation
exposedField MFNode children 
exposedField SFString name
exposedField SFString id
eventIn SFBool startMove
eventOut SFTime touchTime
eventOut SFBool isOver
eventOut SFVec3f newPosition
eventOut SFRotation newRotation
] "http://www.cybertown.com/externprotos/bxx/shared.wrl#SharedObject"

PROTO SharedEvent [
field SFBool local FALSE
exposedField SFString   name    "event"  
exposedField SFString   type    "SFTime" 
eventIn SFBool  boolFromServer    eventIn SFColor colorFromServer
eventIn SFFloat floatFromServer   eventIn SFInt32 int32FromServer
eventIn SFRotation rotationFromServer 
eventIn SFString stringFromServer eventIn SFTime timeFromServer
eventIn SFVec2f vec2fFromServer   eventIn SFVec3f vec3fFromServer  
eventOut SFBool boolToServer      eventOut SFColor colorToServer  
eventOut SFFloat floatToServer    eventOut SFInt32 int32ToServer  
eventOut SFRotation rotationToServer  
eventOut SFString stringToServer  eventOut SFTime timeToServer  
eventOut SFVec2f vec2fToServer    eventOut SFVec3f vec3fToServer  
eventIn SFBool  set_bool    eventIn SFColor set_color  
eventIn SFFloat set_float   eventIn SFInt32 set_int32  
eventIn SFRotation set_rotation  
eventIn SFString set_string eventIn SFTime set_time  
eventIn SFVec2f set_vec2f   eventIn SFVec3f set_vec3f  
eventOut SFBool bool_changed     eventOut SFColor color_changed  
eventOut SFFloat float_changed   eventOut SFInt32 int32_changed  
eventOut SFRotation rotation_changed  
eventOut SFString string_changed eventOut SFTime  time_changed  
eventOut SFVec2f vec2f_changed   eventOut SFVec3f vec3f_changed  
]{ 
Script {
field SFBool local IS local 
#eventIn SFString set_name IS set_name  eventIn SFString set_type IS set_type eventOut SFString name_changed IS name_changed                                       eventOut SFString  type_changed IS type_changed
eventIn SFBool    boolFromServer      IS boolFromServer 
eventIn SFColor   colorFromServer     IS colorFromServer 
eventIn SFFloat   floatFromServer     IS floatFromServer 
eventIn SFInt32   int32FromServer     IS int32FromServer 
eventIn SFRotation rotationFromServer IS rotationFromServer 
eventIn SFString  stringFromServer    IS stringFromServer
eventIn SFTime    timeFromServer      IS timeFromServer 
eventIn SFVec2f   vec2fFromServer     IS vec2fFromServer 
eventIn SFVec3f   vec3fFromServer     IS vec3fFromServer 
eventOut SFBool    boolToServer      IS boolToServer 
eventOut SFColor   colorToServer     IS colorToServer 
eventOut SFFloat   floatToServer     IS floatToServer 
eventOut SFInt32   int32ToServer     IS int32ToServer 
eventOut SFRotation rotationToServer IS rotationToServer 
eventOut SFString  stringToServer    IS stringToServer 
eventOut SFTime    timeToServer      IS timeToServer 
eventOut SFVec2f   vec2fToServer     IS vec2fToServer 
eventOut SFVec3f   vec3fToServer     IS vec3fToServer
eventIn SFBool    set_bool    IS set_bool 
eventIn SFColor   set_color   IS set_color 
eventIn SFFloat   set_float   IS set_float 
eventIn SFInt32   set_int32   IS set_int32 
eventIn SFRotation set_rotation IS set_rotation 
eventIn SFString  set_string  IS set_string 
eventIn SFTime    set_time    IS set_time 
eventIn SFVec2f   set_vec2f   IS set_vec2f 
eventIn SFVec3f   set_vec3f   IS set_vec3f
eventOut SFBool    bool_changed      IS bool_changed 
eventOut SFColor   color_changed     IS color_changed 
eventOut SFFloat   float_changed     IS float_changed 
eventOut SFInt32   int32_changed     IS int32_changed 
eventOut SFRotation rotation_changed IS rotation_changed 
eventOut SFString  string_changed    IS string_changed 
eventOut SFTime    time_changed      IS time_changed 
eventOut SFVec2f   vec2f_changed     IS vec2f_changed 
eventOut SFVec3f   vec3f_changed     IS vec3f_changed 
url "vrmlscript: 
function set_name(value, time) { name_changed = value; } 
function set_type(value, time) { type_changed = value; } 
function boolFromServer (value, time) { bool_changed = value; } 
function colorFromServer (value, time) { color_changed = value; } 
function floatFromServer (value, time) { float_changed = value; } 
function int32FromServer (value, time) { int32_changed = value; } 
function rotationFromServer (value, time) {rotation_changed = value; } 
function stringFromServer (value, time) { string_changed = value; } 
function timeFromServer (value, time) { time_changed = time; } 
function vec2fFromServer (value, time) { vec2f_changed = value; } 
function vec3fFromServer (value, time) { vec3f_changed = value; } 
function set_bool (value, time) {boolToServer = value;if(local){boolFromServer(value,time);}} 
function set_color (value, time) { colorToServer = value;if(local){colorFromServer(value,time);}} 
function set_float (value, time) {floatToServer = value; if(local){floatFromServer(value,time);}} 
function set_int32 (value, time) {int32ToServer = value; if(local){int32FromServer(value,time);}} 
function set_rotation (value, time) {rotationToServer = value;if(local){rotationFromServer(value,time);}} 
function set_string (value, time) {stringToServer = value;if(local){stringFromServer(value,time);}} 
function set_time (value, time) {timeToServer = value;if(local){timeFromServer(value,time);}} 
function set_vec2f (value, time) {vec2fToServer = value;if(local){vec2fFromServer(value,time);}} 
function set_vec3f (value, time) {vec3fToServer = value;if(local){vec3fFromServer(value,time);}} 
"}
}

PROTO BlaxxunZone [  
eventIn         MFNode   addEvents  
eventIn         MFNode   removeEvents  
eventIn         MFNode   addAvatars  
eventIn         MFNode   removeAvatars  
exposedField    MFNode   events NULL 
exposedField    MFNode   avatars NULL 
exposedField    SFString myAvatarURL "" 
exposedField    SFString myAvatarName ""
exposedField    SFFloat  number_avatars 0
eventOut        MFNode   avatars_added 
eventOut        MFNode   avatars_removed  
]{ 
Transform { 
addChildren IS addEvents 
removeChildren IS removeEvents 
children IS events 
} 
Transform { 
        addChildren IS addAvatars
        removeChildren IS removeAvatars 
        children IS avatars 
}
}# END BlaxxunZone

#PROTO CacheFooler[
#field MFString url []
#field MFString param []
#]{
#Group{
#children[
#DEF cf Inline{ url"" }
#DEF cs Script{ 
#field MFString thisUrl IS url
#field MFString param IS param
#eventOut MFString u_changed 
#url"vrmlscript:
# function initialize(){
#   paramString = new SFString();
#   if(param.length > 0){
#      for(i = 0; i < param.length ;i++ ){
#         paramString += ('&' + param[i]);
#      }
#   }
#   u_changed = new MFString(thisUrl[0]+'?fool='+Math.round(Math.random()*1000000)+paramString);
# }
#"}
#]}
#ROUTE cs.u_changed TO cf.set_url
#}#END CacheFooler


PROTO Fountain[]{
DEF fountain Transform { rotation 0 1 0 .7855
children [
DEF center_platform Transform {
children Shape {
appearance Appearance {
texture ImageTexture {url "bg147.jpg"}

textureTransform NULL
}

geometry DEF _15 IndexedFaceSet {
coord Coordinate {
point [ -5 .25 -7
5 .25 -7
5 .25 -7.5
-5 .25 -7.5
7 .25 -5
7 .25 5
7.5 .25 5
7.5 .25 -5
5 .25 7
-5 .25 7
-5 .25 7.5
5 .25 7.5
-7 .25 5
-7 .25 -5
-7.5 .25 -5
-7.5 .25 5
-5 .5 -5
-5 .5 5
5 .5 5
5 .5 -5
5 .5 -7
-5 .5 -7
7 .5 5
7 .5 -5
-5 .5 7
5 .5 7
-7 .5 -5
-7 .5 5 ]
}

coordIndex [ 0 1 2 3 -1 4 5 6
7 -1 8 9 10 11 -1 12
13 14 15 -1 16 17 18 19
-1 16 19 20 21 -1 19 18
22 23 -1 18 17 24 25 -1
17 16 26 27 -1 ]
colorPerVertex FALSE
texCoord TextureCoordinate {
point [ 0 .833
1 .833
.833 0
0 .167
.0333 .833
.0333 .167
.833 .0333
.967 .833
.167 .967
.833 .967
.833 1
.167 1
.967 .833
.967 .167
1 .167
.833 .0333
.167 .0333
.167 0
.0333 .167
.0333 .833
.833 .967
.167 .967
.833 .833
.967 .167
.833 .167
.167 .0333
.167 .167
.167 .833 ]
}

creaseAngle .5
normalIndex [ ]
texCoordIndex [ 8 9 10 11 -1 12 13 14
1 -1 15 16 17 2 -1 18
19 0 3 -1 27 26 24 22
-1 27 22 20 21 -1 22 24
23 7 -1 24 26 25 6 -1
26 27 4 5 -1 ]
}

}

translation 0 0 0
scale 1 1 1
}
DEF center_platform_risers Transform {
children Shape {
appearance Appearance {
material Material {
ambientIntensity 0
diffuseColor .79 .376 .0107
specularColor .37 .215 .0154
emissiveColor 0 0 0
shininess .16
transparency 0
}

}

geometry DEF _16 IndexedFaceSet {
coord Coordinate {
point [ 7 .5 5
7 .5 -5
7 .25 5
7 .25 -5
7.5 .25 5
7.5 .25 -5
7.5 0 5
7.5 0 -5
5 .5 -7
-5 .5 -7
5 .25 -7
-5 .25 -7
5 .25 -7.5
-5 .25 -7.5
5 0 -7.5
-5 0 -7.5
-7 .5 5
-7 .5 -5
-7 .25 5
-7 .25 -5
-7.5 .25 5
-7.5 .25 -5
-7.5 0 5
-7.5 0 -5
-5 .5 7
5 .5 7
-5 .25 7
5 .25 7
-5 .25 7.5
5 .25 7.5
-5 0 7.5
5 0 7.5 ]
}

coordIndex [ 1 0 2 3 -1 5 4 6
7 -1 9 8 10 11 -1 13
12 14 15 -1 16 17 19 18
-1 20 21 23 22 -1 25 24
26 27 -1 29 28 30 31 -1 ]
texCoord TextureCoordinate {
point [ 0 1
0 0
1 1
1 0 ]
}

creaseAngle .5
normalIndex [ ]
texCoordIndex [ 2 3 3 2 -1 2 3 3
2 -1 0 2 2 0 -1 0
2 2 0 -1 1 0 0 1
-1 1 0 0 1 -1 3 1
1 3 -1 3 1 1 3 -1 ]
}

}

translation 0 0 0
scale 1 1 1
}
DEF planters Transform {translation 0 -.5 0
  children      Shape {
appearance  Appearance {material  Material {diffuseColor    0 0 .1 specularColor   .5 0 1}}
geometry    IndexedFaceSet {creaseAngle 3
      coord     Coordinate {
        point   [ -8.75 1 -5,
-8.75 0 -5,
-5 1 -5,
-5 0 -5,
-5 1 -8.75,
-5 0 -8.75,
-8.75 1 -8.75,
-8.75 0 -8.75,
-6.75 1.5 -7,
5 1 -5,
5 0 -5,
8.75 1 -5,
8.75 0 -5,
8.75 1 -8.75,
8.75 0 -8.75,
5 1 -8.75,
5 0 -8.75,
7 1.5 -7,
5 1 8.5,
5 0 8.5,
8.75 1 8.5,
8.75 0 8.5,
8.75 1 5,
8.75 0 5,
5 1 5,
5 0 5,
7 1.5 6.75,
-8.5 1 8.75,
-8.5 0 8.75,
-5 1 8.75,
-5 0 8.75,
-5 1 5,
-5 0 5,
-8.5 1 5,
-8.5 0 5,
-6.75 1.5 7 ]
      }

      coordIndex        [ 0, 1, 3, 2, -1, 4, 5, 7,
6, -1, 6, 7, 1, 0, -1, 2,
3, 5, 4, -1, 9, 10, 12, 11,
-1, 13, 14, 16, 15, -1, 15, 16,
10, 9, -1, 11, 12, 14, 13, -1,
18, 19, 21, 20, -1, 22, 23, 25,
24, -1, 24, 25, 19, 18, -1, 20,
21, 23, 22, -1, 27, 28, 30, 29,
-1, 31, 32, 34, 33, -1, 33, 34,
28, 27, -1, 29, 30, 32, 31, -1,
0, 2, 8, -1, 2, 4, 8, -1,
4, 6, 8, -1, 6, 0, 8, -1,
27, 29, 35, -1, 29, 31, 35, -1,
31, 33, 35, -1, 33, 27, 35, -1,
9, 11, 17, -1, 11, 13, 17, -1,
13, 15, 17, -1, 15, 9, 17, -1,
18, 20, 26, -1, 20, 22, 26, -1,
22, 24, 26, -1, 24, 18, 26, -1 ]
}}}

DEF fountain_pool Transform {
children Shape {
appearance Appearance {
material Material {diffuseColor 0 0 0}
}

geometry DEF _18 IndexedFaceSet {
coord Coordinate {
point [ -3.5 1.2 3.5
-3.5 .5 3.5
3.5 1.2 3.5
3.5 .5 3.5
3.5 1.2 -3.5
3.5 .5 -3.5
-3.5 1.2 -3.5
-3.5 .5 -3.5
-2.92 1.2 2.92
2.92 1.2 2.92
2.92 1.2 -2.92
-2.92 1.2 -2.92
-2.92 .85 2.92
2.92 .85 2.92
2.92 .85 -2.92
-2.92 .85 -2.92 ]
}

coordIndex [ 0 1 3 2 -1 4 5 7
6 -1 6 7 1 0 -1 2
3 5 4 -1 0 2 9 8
-1 2 4 10 9 -1 4 6
11 10 -1 6 0 8 11 -1
8 9 13 12 -1 9 10 14
13 -1 10 11 15 14 -1 11
8 12 15 -1 13 14 15 12
-1 ]
texCoord TextureCoordinate {
point [ .625 .5
.875 0
.125 .5
.125 0
.375 .5
.375 0
.625 0
.875 .5
.625 1
.875 1
.125 1
.375 1
.625 1
.875 1
.125 1
.375 1
.873 .405
.623 .405
.123 .405
.373 .405 ]
}

creaseAngle .5
normalIndex [ ]
texCoordIndex [ 19 5 6 17 -1 16 1 3
18 -1 18 3 5 19 -1 17
6 1 16 -1 11 8 12 15
-1 8 9 13 12 -1 9 10
14 13 -1 10 11 15 14 -1
15 12 0 4 -1 12 13 7
0 -1 13 14 2 7 -1 14
15 4 2 -1 0 7 2 4
-1 ]
}

}

translation 0 0 0
rotation 0 1 0 3.14
scale 1 1 1
}
DEF short_pylon Transform {
children Shape {
appearance Appearance {
material Material {
ambientIntensity .27
diffuseColor .37 .37 .37
specularColor .72 .89 .89
emissiveColor 0 0 0
shininess .13
transparency 0
}

texture ImageTexture {
repeatS TRUE
repeatT TRUE
url "4002.jpg"
}

}

geometry DEF _19 IndexedFaceSet {
coord Coordinate {
point [ .25 7 -2
.75 .5 -2.75
-.213 6.99 -2
-.963 .486 -2.75
-.213 8.74 -1
-.963 .486 -1
.25 8.75 -1
.75 .5 -1 ]
}

coordIndex [ 0 1 3 2 -1 4 5 7
6 -1 6 7 1 0 -1 2
3 5 4 -1 6 0 2 4
-1 ]
texCoord TextureCoordinate {
point [ .266 5.95
.265 -.0112
.753 5.94
.762 -.00589
.741 4.7
.762 -.0162
.265 -.0112
.266 4.69
.753 4.58
.762 -.0162
.265 -.0112
.265 5.82
.762 -.00589
.753 5.95
.753 4.69
.266 5.96
.265 5.98
.265 -.0112 ]
}

creaseAngle 3.14
normalIndex [ ]
texCoordIndex [ 14 12 6 7 -1 0 1 3
2 -1 16 17 5 4 -1 8
9 10 11 -1 13 14 7 15
-1 ]
}

}

translation 0 0 0
rotation 0 0 1 0
scale 1 1 1
}
DEF tall_pylon Transform {
children Shape {
appearance Appearance {
material Material {
ambientIntensity .27
diffuseColor .37 .37 .37
specularColor .72 .89 .89
emissiveColor 0 0 0
shininess .13
transparency 0
}

texture ImageTexture {
repeatS TRUE
repeatT TRUE
url "4002.jpg"
}

}

geometry DEF _20 IndexedFaceSet {
coord Coordinate {
point [ .75 10.5 0
.75 .5 0
1.5 9 0
2.75 .5 0
1.5 8.97 -.713
2.75 .472 -.713
.75 10.5 -.713
.75 .472 -.713 ]
}

coordIndex [ 0 1 3 2 -1 4 5 7
6 -1 6 7 1 0 -1 2
3 5 4 -1 6 0 2 4
-1 ]
texCoord TextureCoordinate {
point [ .728 4.92
.741 -.0282
.236 5.89
.236 0
.236 5.9
.236 .0173
.741 -.0119
.728 4.94
.741 5.91
.741 -.0431
.225 -.0175
.238 5.93
.741 5.88
.236 5.93
.236 5.04
.236 .00251
.741 -.0432
.741 4.99 ]
}

creaseAngle 3.14
normalIndex [ ]
texCoordIndex [ 4 5 6 7 -1 0 1 3
2 -1 8 9 10 11 -1 14
15 16 17 -1 12 13 14 17
-1 ]
}

}

translation 0 0 0
scale 1 1 1
}
DEF block Transform {
children Shape {
appearance Appearance {
material Material {
ambientIntensity .27
diffuseColor .37 .37 .37
specularColor .72 .89 .89
emissiveColor 0 0 0
shininess .13
transparency 0
}

texture NULL
}

geometry DEF _21 IndexedFaceSet {
coord Coordinate {
point [ -2.5 1.75 2.5
-2.5 1.5 2.5
0 3 2.25
0 2.75 2.25
0 3 -.25
-2.5 2.75 0
-2.5 2.5 0 ]
}

coordIndex [ 0 1 3 2 -1 5 6 1
0 -1 5 0 4 -1 0 2
4 -1 3 1 4 -1 4 1
6 -1 6 5 4 -1 2 3
4 -1 ]
texCoord TextureCoordinate {
point [ 0 .5
0 0
1 1
1 .1
1 1
0 .9
0 0
1 .9
1 0
0 .5
0 0
0 .9
0 0
1 0
.461 .0472
.0133 .991
.991 .998
.495 .169
.02 .998
.957 .991 ]
}

creaseAngle 3.14
normalIndex [ ]
texCoordIndex [ 0 1 3 2 -1 7 8 10
9 -1 14 18 19 -1 15 17
16 -1 3 1 1 -1 1 1
1 -1 6 5 4 -1 11 12
13 -1 ]
}

}

translation 0 0 0
scale 1 1 1
}
DEF dummy Transform {
children Shape {
appearance Appearance {
material Material {
ambientIntensity 0
diffuseColor 0 0 0
specularColor .63 .92 1
emissiveColor 0 0 0
shininess .2
transparency 0
}

texture ImageTexture {
repeatS TRUE
repeatT TRUE
url "4002.jpg"
}

}

geometry DEF _22 IndexedFaceSet {
coord Coordinate {
point [ 0 -1.5 -.5
.0138 1.87 -.394
.191 -1.5 -.462
.172 1.9 -.32
.354 -1.5 -.354
.3 1.9 -.198
.462 -1.5 -.191
.38 1.85 -.0457
.5 -1.5 0
.398 1.78 .114
.462 -1.5 .191
.352 1.68 .256
.354 -1.5 .354
.25 1.58 .359
.191 -1.5 .462
.105 1.49 .408
0 -1.5 .5
-.0581 1.42 .394
-.191 -1.5 .462
-.216 1.39 .32
-.354 -1.5 .354
-.345 1.39 .198
-.462 -1.5 .191
-.424 1.44 .0457
-.5 -1.5 0
-.442 1.51 -.114
-.462 -1.5 -.191
-.397 1.61 -.256
-.354 -1.5 -.354
-.294 1.71 -.359
-.191 -1.5 -.462
-.15 1.8 -.408
0 -1.5 0 ]
}

coordIndex [ 0 1 3 2 -1 2 3 5
4 -1 4 5 7 6 -1 6
7 9 8 -1 8 9 11 10
-1 10 11 13 12 -1 12 13
15 14 -1 14 15 17 16 -1
16 17 19 18 -1 18 19 21
20 -1 20 21 23 22 -1 22
23 25 24 -1 24 25 27 26
-1 26 27 29 28 -1 28 29
31 30 -1 30 31 1 0 -1
32 0 2 -1 32 2 4 -1
32 4 6 -1 32 6 8 -1
32 8 10 -1 32 10 12 -1
32 12 14 -1 32 14 16 -1
32 16 18 -1 32 18 20 -1
32 20 22 -1 32 22 24 -1
32 24 26 -1 32 26 28 -1
32 28 30 -1 32 30 0 -1 ]
texCoord TextureCoordinate {
point [ 1 0
1 1
.938 0
.938 1
.875 0
.875 1
.813 0
.813 1
.75 0
.75 1
.688 0
.688 1
.625 0
.625 1
.563 0
.563 1
.5 0
.5 1
.438 0
.438 1
.375 0
.375 1
.313 0
.313 1
.25 0
.25 1
.188 0
.188 1
.125 0
.125 1
.0625 0
.0625 1
0 0
0 1
.5 .5
0 .5
.691 .0381
.854 .146
.854 .854
.691 .962
.962 .309
1 .5
.962 .691
.5 1
.309 .962
.146 .854
.0381 .691
.0381 .309
.146 .146
.309 .0381 ]
}

creaseAngle .5
normalIndex [ ]
texCoordIndex [ 0 1 3 2 -1 2 3 5
4 -1 4 5 7 6 -1 6
7 9 8 -1 8 9 11 10
-1 10 11 13 12 -1 12 13
15 14 -1 14 15 17 16 -1
16 17 19 18 -1 18 19 21
20 -1 20 21 23 22 -1 22
23 25 24 -1 24 25 27 26
-1 26 27 29 28 -1 28 29
31 30 -1 30 31 33 32 -1
34 16 36 -1 34 36 37 -1
34 37 40 -1 34 40 41 -1
34 41 42 -1 34 42 38 -1
34 38 39 -1 34 39 43 -1
34 43 44 -1 34 44 45 -1
34 45 46 -1 34 46 35 -1
34 35 47 -1 34 47 48 -1
34 48 49 -1 34 49 16 -1 ]
}

}

translation -1.13 .875 .859
rotation 0 0 1 0
scale 1 1 1
scaleOrientation 0 0 1 0
}
DEF hanging Transform {
children Shape {
appearance Appearance {
material Material {
ambientIntensity .27
diffuseColor .37 .37 .37
specularColor .72 .89 .89
emissiveColor 0 0 0
shininess .13
transparency 0
}

texture NULL
}

geometry DEF _23 IndexedFaceSet {
coord Coordinate {
point [ -1.07 4.01 .687
-1.22 3.5 .76
1.25 5.44 .893
1.1 4.93 .966
1.25 6.51 -.965
1.1 6 -.892
-.608 5.58 -1.5
-.759 5.07 -1.43 ]
}

coordIndex [ 0 1 3 2 -1 4 5 7
6 -1 6 7 1 0 -1 2
3 5 4 -1 1 7 5 3
-1 6 0 4 -1 0 2 4
-1 ]
texCoord TextureCoordinate {
point [ .0156 .97
0 0
1.01 .984
.966 .0133
.79 .984
1 0
.0564 .991
.2 1.03
1.03 .97
.878 .0133
.0156 .984
.0156 .0404
.0224 .984
0 0
.695 .991
.919 .0268
.43 .0268
.036 .998
.966 1
.437 .149
.783 .02
0 0
0 .0887
1 .8
.00884 .984
1.01 .984 ]
}

creaseAngle 3.14
normalIndex [ ]
texCoordIndex [ 0 1 3 2 -1 4 20 21
6 -1 8 9 11 10 -1 12
13 15 14 -1 22 7 23 5
-1 16 24 25 -1 17 19 18
-1 ]
}

}

translation 0 0 0
scale 1 1 1
}
DEF fountain_water Transform {
children Shape {
appearance Appearance {
material Material {
# transparency .4
}

texture ImageTexture {
url "water.gif"
}

textureTransform DEF tt TextureTransform {
translation 0 0
}

}

geometry DEF _25 IndexedFaceSet {
coord Coordinate {
point [ .25 7 -2.08
.75 .5 -2.82
-.25 7 -2.08
-1 .5 -2.82
-.25 8.75 -1
.25 8.75 -1
-2.53 1.77 2.5
-1.13 4.01 .706
.75 10.5 -.75
.75 10.5 0
-.959 4.94 -.663
.00775 4.67 .783
-1.15 2.46 2.36
-2.5 2.51 .591
-.524 2.75 1.56
-1.42 2.3 1.44
-1.5 2.8 .15
.475 6.02 -.853
.516 5.38 .303
-2.91 .75 2.89
-2.88 .75 .5
-.75 .75 2.75
-3 1 2.92
2.84 1 2.92
2.84 1 -2.92
-3 1 -2.92 ]
}

coordIndex [ 0 1 3 2 -1 5 0 2
4 -1 6 12 14 15 -1 13
6 15 16 -1 14 11 7 15
-1 15 7 10 16 -1 10 7
11 18 17 -1 18 9 8 17
-1 6 13 20 19 -1 12 6
19 21 -1 23 24 25 22 -1 ]
colorPerVertex FALSE
texCoord TextureCoordinate {
point [ .667 1.92
1 0
.381 1.92
0 0
.667 2.92
.381 2.92
0 0
.941 2.92
.293 2.92
0 0
1 .554
0 0
-.38 .5
.372 .28
.388 .396
-.538 .542
.346 .776
-.00565 .562
.00175 .562
-.381 .891
-.016 1.05
.381 .631
.707 -.707
.707 .707
0 0
1.41 0
.817 .791
.175 .47
0 0
1 0
.16 .426
.962 .739
1 0
0 0
.571 .454
.645 1.75
.0483 1.18
0 0
0 0
.16 .886
.702 1.49
.532 .349]
}

creaseAngle 3.14
texCoordIndex [ 0 1 3 2 -1 4 0 2
5 -1 6 14 16 17 -1 15
6 18 19 -1 34 35 36 37
-1 38 39 40 41 -1 12 9
13 21 20 -1 11 8 7 10
-1 30 31 32 33 -1 26 27
28 29 -1 22 25 23 24 -1 ]
}}}

DEF water_script Transform{children [
DEF sClock TimeSensor {enabled TRUE cycleInterval 1.5 loop  TRUE}
DEF sVis VisibilitySensor{size 15 15 15}
DEF sInterp ScalarInterpolator{key [ 0, 1 ]keyValue [ 0, 1 ]}
DEF ss Script {
eventIn      SFFloat  set_trans eventIn      SFBool   set_choice
eventOut     SFVec2f  value_changed eventOut     SFInt32  choice_changed
url   "vrmlscript:function set_trans(v){value_changed = new SFVec2f(0,v);}function set_choice(v){if(v){choice_changed = 0;}else{choice_changed = -1;}}"
}

Sound{intensity .4
source DEF rnd1Sound AudioClip{url ["sounds/fount1.wav"]loop TRUE}
maxBack 100 maxFront 100 minBack 10 minFront 10
}

]}]}

ROUTE sVis.isActive TO sClock.set_enabled
ROUTE ss.value_changed TO tt.set_translation
ROUTE sClock.fraction_changed TO sInterp.set_fraction
ROUTE sInterp.value_changed TO ss.set_trans

}


PROTO DayNight[
eventIn SFTime getTime
eventIn SFTime getNight
eventIn SFBool set_bind
exposedField SFVec3f position 0 0 0
exposedField SFRotation rotation 0 1 0 0
exposedField SFVec3f scale 1 1 1 
exposedField MFString scriptUrl "http://www.cybertown.com/cgi-bin/games/vrmltime.pl"
eventOut SFBool isNight
eventOut SFVec2f time

]{
Transform{
translation IS position rotation IS rotation scale IS scale
children[
Group{
children[
DEF sky Background{
set_bind IS set_bind
skyColor[0 0 1,0 .5 1,1 1 1]
skyAngle [1.309,1.571]
groundColor[0 0 0.5,0 .5 .75,1 1 1]
groundAngle [1.309,1.571]
}
DEF sunLight2 PointLight{color 1 1 1 intensity 0 location 0 0 0 on TRUE radius 100}
DEF sun Transform{children[
DEF sunBall Transform{translation 0 -100 0
children[
DEF sunLight DirectionalLight{direction 0 1 0 color 1 1 .99 intensity 2}
]}
DEF moonBall Transform{translation -20 100 0 
children[
DEF moonLight DirectionalLight{direction 0 -1 0 intensity .4 color .2 .2 .3}
]}
]}
DEF sunOrient OrientationInterpolator {key [ 0 0.5 1  ]keyValue [0 0 1 0,0 0 1 3.142,0 0 1 6.284]}
DEF moonlight ColorInterpolator{key [0,.23,.24,.77,.78,1]keyValue [.8 .8 1,.8 .8 1,0 0 0,0 0 0,.8 .8 1,.8 .8 1]}
DEF sunlight ColorInterpolator{key [0,.24,.245,.71,.74,.77,1]keyValue[0 0 0,0 0 0,1 1 .9,1 1 .9,.9 .4 0,0 0 0,0 0 0]}
DEF bgrounder Script{
eventIn SFFloat set_time
eventOut MFColor bcolor
eventOut SFFloat  cricket_changed
field SFBool isDay FALSE
field SFBool starsOut TRUE
eventOut SFInt32 stars_choice
eventOut SFBool isNight IS isNight 
url "vrmlscript:
function set_time(v,t){
c = 0;
r=0; // hg 
if(v > .23 && v < .77){
 if(!isDay){isNight = false;isDay = true;stars_choice = -1;} 
 x = (v - .23)/.54;
 c = Math.sin(x * 3.14)* 2;
 if(c < 0){ c = 0;}
 if(c > 1){c = 1;}
 r = c; 
 if(v > .7){r += .1;}
}
else{
 if(isDay){isNight = true;isDay = false;}
}
bcolor [0] = new SFColor(0,0,c);
bcolor [1] = new SFColor(0,.5*c,c);
bcolor [2] = new SFColor(r,c,c); 
 if(v > .77 && !starsOut){
  starsOut = true;
  stars_choice = 0;    
 }
 if(v > .24 && v < .25 && starsOut){
  starsOut = false;
  stars_choice = -1;    
 }
}
"}
]}
DEF dayNight Script{
eventIn MFNode receive
eventIn SFTime getTime IS getTime 
field MFString scriptUrl IS scriptUrl
field SFNode self USE dayNight
field SFBool isGet FALSE 
eventOut SFTime time_changed
eventOut SFBool time_loop
eventOut SFVec2f time IS time
url "vrmlscript:
function set_time(min,hour,t){
 time_changed = t - (((hour) * 3600) + (min * 60));
 time_loop = true;
}
function receive(v,t)
{
 if (v.length==0) return; // hg 
 min = v[0].min; 
 hour = v[0].hour + 2;
 if(hour >= 24){hour -= 24;}
 set_time(min,hour,t);
 if(isGet){time = new SFVec2f(min,hour);isGet = false;}
}
function getTime(){isGet = true;Browser.createVrmlFromURL(scriptUrl,self,'receive');}
function initialize(){Browser.createVrmlFromURL(scriptUrl,self,'receive');}

"}
DEF dnClock TimeSensor{cycleInterval 86400 loop FALSE enabled TRUE} 
]}
ROUTE dayNight.time_changed TO dnClock.set_startTime
ROUTE dayNight.time_loop TO dnClock.set_loop
ROUTE dnClock.fraction_changed TO bgrounder.set_time
ROUTE bgrounder.bcolor TO sky.set_skyColor 
ROUTE bgrounder.bcolor TO sky.set_groundColor
ROUTE dnClock.fraction_changed TO sunOrient.set_fraction 
ROUTE sunOrient.value_changed TO sun.set_rotation
ROUTE dnClock.fraction_changed TO sunlight.set_fraction 
ROUTE sunlight.value_changed TO sunLight.set_color 
ROUTE sunlight.value_changed TO sunLight2.set_color 
ROUTE dnClock.fraction_changed TO moonlight.set_fraction 
ROUTE moonlight.value_changed TO moonLight.set_color

}#END DayNight PROTO


PROTO StoreFront[
field SFVec3f position 0 0 0
field SFRotation rotation 0 1 0 0
field SFVec3f scale 1 1 1

field MFString storeName ""
field MFString linkUrl []
field MFString linkParam ["target=_top"]
]{
Transform{scale IS scale translation IS position rotation IS rotation
children[

DEF doors Transform {
children Shape {
appearance Appearance{texture ImageTexture {url "door.jpg"}}
geometry DEF _34 IndexedFaceSet {
coord Coordinate {point [4 7.25 0 -4 7.25 0 -4 0 0 4 0 0]}
coordIndex[ 0 1 2 3 -1 ]
texCoord TextureCoordinate {
point [1 1 0 1 0 0 1 0]}
ccw FALSE
texCoordIndex [ 0 1 2 3 -1 ]
}}}
DEF door_frames Transform {
children Shape {
appearance Appearance {material Material {diffuseColor .79 .393 .0282 specularColor .63 .472 .0036 shininess .55}}
geometry DEF _35 IndexedFaceSet {
coord Coordinate {point [ -5 8 0 5 8 0 5 8 0 -5 8 0 5 0 0 4.75 0 -.25 -5 0 0 -4.75 0 -.25 -4.75 7.75 -.25 4.75 7.75 -.25 4.25 0 -.25 -4.25 0 -.25 -4.25 7.5 -.25 4.25 7.5 -.25 4 0 0 -4 0 0 -4 7.25 0 4 7.25 0]}
coordIndex [ 0 1 2 3 -1 2 3 8 9 -1 1 2 9 -1 3 0 8 -1 8 12 13 9 -1 8 9 1 0 -1 17 13 12 16 -1 6 7 8 0 -1 12 8 7 11 -1 11 15 16 12 -1 14 10 13 17 -1 10 5 9 13 -1 5 4 1 9 -1 ]
ccw FALSE
creaseAngle 3.14
}}}

LOD{range 25
level[
Transform {
translation 0 6 -1
rotation 0 1 0 3.142
children[
Shape {
appearance  Appearance {material  Material {diffuseColor    0.2 0.083 0.18}}
geometry Box { size      3 0.75 0.5
}}
Transform {
children      Shape {
appearance  Appearance {material  Material {emissiveColor 1 .75 0}}
geometry    Text {
fontStyle FontStyle {size    0.5 justify "MIDDLE"}
string IS storeName
}}translation   0 0 0.3
}
Transform {
children Shape {
appearance  Appearance {material  Material {diffuseColor    0.44 0.15 0 specularColor   0.78 0.69 0.4 shininess       0.12}}
geometry Cylinder {radius    0.1 height    3.25}
}translation   0 -0.25 0.3 rotation      0 0 1  1.571}
]}
Group{}
]}
DEF lts TouchSensor{}
DEF linker Script{
eventIn SFTime link
field MFString loadUrl IS linkUrl
field MFString loadParam IS linkParam
url "vrmlscript:function link(v) {Browser.loadURL(loadUrl,loadParam);}"
}
]}
ROUTE lts.touchTime TO linker.link
}#END StoreFront


PROTO PalmTree[
field SFVec3f position 0 0 0
field SFVec3f scale 1 1 1
field SFRotation rotation 0 1 0 0
]{
Transform{translation IS position scale IS scale rotation IS rotation bboxSize 2 4 2 children[
Shape{appearance Appearance{material Material{diffuseColor 0 0 0 specularColor 1 1 1}}geometry Cylinder{height .5 radius .25}} 
Shape {appearance Appearance{material Material{}}
geometry IndexedFaceSet {
coord Coordinate{point[0.0144 0.792 -0.138,-0.0386 0.792 -0.077,0 -0.102 -0.109,0.14 0.792 -0.058,0.0674 0.792 -0.077,0.104 -0.102 -0.048,0.14 0.792 0.068,0.114 0.792 0.008,0.104 -0.102 0.057,0.0144 0.792 0.138,0.0674 0.792 0.079,0.001 -0.102 0.112,-0.112 0.792 0.068,-0.0446 0.792 0.082,-0.104 -0.102 0.057,-0.112 0.792 -0.058,-0.0856 0.792 0.005,-0.104 -0.102 -0.048,-0.0269 1.26 -0.124,-0.0799 1.26 -0.0632,0.00183 0.757 -0.0952,0.0991 1.26 -0.0442,0.0261 1.26 -0.0632,0.106 0.757 -0.0342,0.0991 1.26 0.0818,0.0731 1.26 0.0218,0.106 0.757 0.0708,-0.0269 1.26 0.152,0.0261 1.26 0.0928,0.00283 0.757 0.126,-0.153 1.26 0.0818,-0.0859 1.26 0.0958,-0.102 0.757 0.0708,-0.153 1.26 -0.0442,-0.127 1.26 0.0188,-0.102 0.757 -0.0342,-0.0988 1.75 -0.123,-0.152 1.75 -0.0617,-0.0269 1.23 -0.0937,0.0272 1.75 -0.0427,-0.0458 1.75 -0.0617,0.0771 1.23 -0.0327,0.0272 1.75 0.0833,0.00117 1.75 0.0233,0.0771 1.23 0.0723,-0.0988 1.75 0.153,-0.0458 1.75 0.0943,-0.0259 1.23 0.127,-0.225 1.75 0.0833,-0.158 1.75 0.0973,-0.131 1.23 0.0723,-0.225 1.75 -0.0427,-0.199 1.75 0.0203,-0.131 1.23 -0.0327]}
color Color{color[0.2 0.05 0,0.5 0.5 0.3,0.2 0.05 0,0.5 0.5 0.3,0.2 0.05 0,0.5 0.5 0.3]}
coordIndex[17, 16, 14, -1, 12, 14, 16, -1,2, 1, 17, -1, 15, 17, 1, -1,5, 4, 2, -1, 0, 2, 4, -1,8, 7, 5, -1, 3, 5, 7, -1,11, 10, 8, -1, 6, 8, 10, -1,14, 13, 11, -1, 9, 11, 13, -1,15, 16, 17, -1, 12, 13, 14, -1,9, 10, 11, -1, 6, 7, 8, -1,3, 4, 5, -1, 0, 1, 2, -1,35, 34, 32, -1, 30, 32, 34, -1,20, 19, 35, -1, 33, 35, 19, -1,23, 22, 20, -1, 18, 20, 22, -1,26, 25, 23, -1, 21, 23, 25, -1,29, 28, 26, -1, 24, 26, 28, -1,32, 31, 29, -1, 27, 29, 31, -1,33, 34, 35, -1, 30, 31, 32, -1,27, 28, 29, -1, 24, 25, 26, -1,21, 22, 23, -1, 18, 19, 20, -1,53, 52, 50, -1, 48, 50, 52, -1,38, 37, 53, -1, 51, 53, 37, -1,41, 40, 38, -1, 36, 38, 40, -1,44, 43, 41, -1, 39, 41, 43, -1,47, 46, 44, -1, 42, 44, 46, -1,50, 49, 47, -1, 45, 47, 49, -1,51, 52, 53, -1, 48, 49, 50, -1,45, 46, 47, -1, 42, 43, 44, -1,39, 40, 41, -1, 36, 37, 38, -1]
colorIndex[0, 0, 0, -1, 1, 0, 0, -1,0, 0, 0, -1, 1, 0, 0, -1,0, 0, 0, -1, 1, 0, 0, -1,0, 0, 0, -1, 1, 0, 0, -1,0, 0, 0, -1, 1, 0, 0, -1,0, 0, 0, -1, 1, 0, 0, -1,1, 0, 0, -1, 1, 0, 0, -1,1, 0, 0, -1, 1, 0, 0, -1,1, 0, 0, -1, 1, 0, 0, -1,2, 2, 2, -1, 3, 2, 2, -1,2, 2, 2, -1, 3, 2, 2, -1,2, 2, 2, -1, 3, 2, 2, -1,2, 2, 2, -1, 3, 2, 2, -1,2, 2, 2, -1, 3, 2, 2, -1,2, 2, 2, -1, 3, 2, 2, -1,3, 2, 2, -1, 3, 2, 2, -1,3, 2, 2, -1, 3, 2, 2, -1,3, 2, 2, -1, 3, 2, 2, -1,4, 4, 4, -1, 5, 4, 4, -1,4, 4, 4, -1, 5, 4, 4, -1,4, 4, 4, -1, 5, 4, 4, -1,4, 4, 4, -1, 5, 4, 4, -1,4, 4, 4, -1, 5, 4, 4, -1,4, 4, 4, -1, 5, 4, 4, -1,5, 4, 4, -1, 5, 4, 4, -1,5, 4, 4, -1, 5, 4, 4, -1,5, 4, 4, -1, 5, 4, 4, -1 ]
colorPerVertex TRUE ccw FALSE
}}
DEF fluff Transform {
children Shape {
appearance Appearance{material Material{diffuseColor 0.881 0.806 0.657}}
geometry IndexedFaceSet {
coord Coordinate{point [0.986 1.85 0.117,1.02 2.06 0.133,0.966 1.99 0.0412,0.847 1.82 0.163,0.774 2 0.215,0.894 1.97 0.148,0.761 1.8 0.0412,0.622 1.96 0,0.766 1.94 0.11,0.847 1.82 -0.0806,0.774 2 -0.215,0.762 1.94 -0.0228,0.986 1.85 -0.0341,1.02 2.06 -0.133,0.887 1.97 -0.0693,1.02 1.73 0.0922,1.13 1.99 0.202,0.997 1.87 0.0144,0.874 1.7 0.14,0.785 1.91 0.319,0.923 1.85 0.125,0.786 1.68 0.0144,0.57 1.85 0.0144,0.791 1.82 0.0857,0.874 1.7 -0.111,0.785 1.91 -0.29,0.787 1.82 -0.0518,1.02 1.73 -0.0635,1.13 1.99 -0.174,0.915 1.85 -0.0998]}
coordIndex[11, 6, 9, -1, 11, 7, 6, -1,8, 3, 6, -1, 8, 4, 3, -1,14, 9, 12, -1, 14, 10, 9, -1,5, 0, 3, -1, 5, 1, 0, -1,2, 12, 0, -1, 2, 13, 12, -1,12, 13, 14, -1, 9, 10, 11, -1,6, 7, 8, -1, 3, 4, 5, -1,0, 1, 2, -1, 26, 21, 24, -1,26, 22, 21, -1, 23, 18, 21, -1,23, 19, 18, -1, 29, 24, 27, -1,29, 25, 24, -1, 20, 15, 18, -1,20, 16, 15, -1, 17, 27, 15, -1,17, 28, 27, -1, 27, 28, 29, -1,24, 25, 26, -1, 21, 22, 23, -1,18, 19, 20, -1, 15, 16, 17, -1]
ccw FALSE creaseAngle 3
}}translation -1 0 0
}
DEF frond Transform{
children Shape{
appearance Appearance{material Material {}texture PixelTexture{image 2 2 3 0x8000 0x4d00 0x8000 0x4d00}textureTransform TextureTransform {scale 4 4}}
geometry IndexedFaceSet {
coord Coordinate{point[-0.0381 2.3 0.617,0.203 2.22 0.74,0.14 2.2 0.547,-0.0421 2.21 1.28,-0.325 2.06 1.43,-0.366 1.95 1.71,0.306 1.96 1.7,0.244 2.17 1.21,-0.0421 2.27 1.11,-0.0401 1.9 0.131,-0.0831 2.07 0.325,-0.0381 2.32 0.719,-0.279 2.23 0.816,-0.296 2.18 0.972,0.211 2.23 0.785,-0.0421 2.31 0.926,-0.3 2.2 1.01,-0.322 2.18 1.24,0.00494 2.09 0.344,
0.0569 2.12 0.398,-0.271 2.23 0.747,-0.13 2.14 0.411,-0.246 2.2 0.54,0.244 2.19 1.11,-0.0421 2.04 1.55,0.0409 1.89 1.84,-0.117 1.9 1.84,0.516 1.94 0.514,0.704 1.82 0.337,0.524 1.91 0.298,0.94 1.48 0.765,0.819 1.25 1,0.951 1.01 1.12,1.33 1.08 0.567,1.04 1.51 0.487,0.848 1.63 0.717,0.00132 1.88 0.152,0.186 1.91 0.336,0.594 1.89 0.563,0.487 1.74 0.767,0.566 1.61 0.829,0.745 1.8 0.355,0.733 1.77 0.651,0.601 1.61 0.858,0.742 1.46 0.967,0.257 1.92 0.279,0.341 1.92 0.274,0.444 1.78 0.732,0.25 1.91 0.439,0.301 1.88 0.612,0.98 1.59 0.454,1.06 1.19 0.817,1.25 0.917 0.821,1.16 0.906 0.948,0.396 2.41 -0.0788,0.382 2.37 -0.359,0.254 2.32 -0.212,0.969 2.43 -0.425,1.26 2.28 -0.283,1.52 2.22 -0.407,1.17 2.28 -0.972,0.767 2.4 -0.64,0.82 2.46 -0.329,0.022 1.94 0.103,0.193 2.14 0.0695,0.482 2.44 -0.128,
0.698 2.35 0.0131,0.843 2.32 -0.059,0.416 2.39 -0.387,0.66 2.47 -0.231,0.875 2.36 -0.0706,1.09 2.37 -0.174,0.161 2.16 -0.0118,0.177 2.21 -0.0774,0.635 2.34 0.0416,0.285 2.21 0.0768,0.449 2.28 0.12,0.682 2.41 -0.587,1.21 2.31 -0.588,1.43 2.22 -0.83,1.51 2.2 -0.694,-0.385 2.42 -0.0417,-0.628 2.34 0.0778,-0.435 2.29 0.126,-0.939 2.44 -0.417,-0.917 2.34 -0.754,-1.14 2.29 -0.956,-1.5 2.23 -0.395,-1.05 2.36 -0.151,-0.794 2.47 -0.315,
-0.0177 1.95 0.151,-0.139 2.15 0.0401,-0.468 2.45 -0.0942,-0.422 2.4 -0.36,-0.546 2.38 -0.466,-0.669 2.36 0.062,-0.638 2.48 -0.21,-0.573 2.41 -0.486,-0.756 2.43 -0.634,-0.202 2.16 0.106,-0.272 2.2 0.126,-0.369 2.39 -0.316,-0.178 2.24 -0.034,-0.214 2.33 -0.189,-0.963 2.37 -0.0944,-1.18 2.32 -0.589,-1.48 2.22 -0.702,-1.39 2.23 -0.831,0.0394 2.12 -0.29,-0.167 2.03 -0.461,-0.156 2.03 -0.257,0.205 1.95 -0.915,0.507 1.78 -0.967,0.612 1.64 -1.22,-0.0394 1.66 -1.38,
-0.0905 1.93 -0.92,0.166 2.03 -0.759,-0.104 1.78 0.221,-0.00422 1.93 0.0277,0.0659 2.13 -0.39,0.318 2.02 -0.411,0.371 1.95 -0.55,-0.163 2.04 -0.508,0.121 2.09 -0.586,0.386 1.97 -0.589,0.464 1.92 -0.805,-0.0833 1.95 -0.0154,-0.118 1.98 -0.0848,0.293 2.03 -0.347,0.0671 1.99 -0.0514,0.215 2.03 -0.151,-0.114 1.96 -0.828,0.263 1.75 -1.16,0.249 1.57 -1.44,0.401 1.57 -1.4,-0.473 2.04 0.293,-0.502 1.91 0.543,-0.338 1.93 0.425,-1.08 1.82 0.466,
-1.29 1.68 0.218,-1.55 1.53 0.245,-1.34 1.47 0.879,-0.927 1.77 0.711,-0.934 1.92 0.427,0.0397 1.73 0.0899,-0.18 1.87 0.131,-0.571 2.03 0.324,-0.725 1.95 0.111,-0.869 1.88 0.132,-0.544 1.91 0.566,-0.766 1.99 0.379,-0.909 1.89 0.143,-1.13 1.83 0.186,-0.173 1.87 0.223,-0.213 1.89 0.293,-0.658 1.97 0.0992,-0.286 1.92 0.122,-0.451 1.97 0.0588,-0.839 1.81 0.686,-1.31 1.61 0.519,-1.54 1.41 0.66,-1.59 1.43 0.51 ]}
coordIndex[8, 15, 17, -1, 6, 8, 3, -1,23, 11, 15, -1, 23, 14, 11, -1,15, 8, 23, -1, 17, 3, 8, -1,13, 15, 11, -1, 0, 22, 20, -1,0, 21, 22, -1, 0, 10, 21, -1,20, 11, 0, -1, 0, 19, 18, -1,0, 2, 19, -1, 18, 9, 0, -1,15, 16, 17, -1, 14, 0, 11, -1,11, 12, 13, -1, 0, 9, 10, -1,6, 7, 8, -1, 3, 4, 5, -1,0, 1, 2, -1, 3, 5, 26, 24,-1, 25, 6, 3, 24, -1, 35, 42,44, -1, 33, 35, 30, -1, 50, 38,42, -1, 50, 41, 38, -1, 42, 35,50, -1, 44, 30, 35, -1, 40, 42,38, -1, 27, 49, 47, -1, 27, 48,49, -1, 27, 37, 48, -1, 47, 38,27, -1, 27, 46, 45, -1, 27, 29,46, -1, 45, 36, 27, -1, 42, 43,44, -1, 41, 27, 38, -1, 38, 39,40, -1, 27, 36, 37, -1, 33, 34,35, -1, 30, 31, 32, -1, 27, 28,29, -1, 30, 32, 53, 51, -1, 52,33, 30, 51, -1, 62, 69, 71, -1,60, 62, 57, -1, 77, 65, 69, -1,77, 68, 65, -1, 69, 62, 77, -1,71, 57, 62, -1, 67, 69, 65, -1,54, 76, 74, -1, 54, 75, 76, -1,54, 64, 75, -1, 74, 65, 54, -1,54, 73, 72, -1, 54, 56, 73, -1,72, 63, 54, -1, 69, 70, 71, -1,68, 54, 65, -1, 65, 66, 67, -1,54, 63, 64, -1, 60, 61, 62, -1,57, 58, 59, -1, 54, 55, 56, -1,57, 59, 80, 78, -1, 79, 60, 57,78, -1, 89, 96, 98, -1, 87, 89,84, -1, 104, 92, 96, -1, 104, 95,92, -1, 96, 89, 104, -1, 98, 84,89, -1, 94, 96, 92, -1, 81, 103,101, -1, 81, 102, 103, -1, 81, 91,102, -1, 101, 92, 81, -1, 81, 100,99, -1, 81, 83, 100, -1, 99, 90,81, -1, 96, 97, 98, -1, 95, 81,
92, -1, 92, 93, 94, -1, 81, 90,91, -1, 87, 88, 89, -1, 84, 85,86, -1, 81, 82, 83, -1, 84, 86,107, 105, -1, 106, 87, 84, 105, -1,116, 123, 125, -1, 114, 116, 111, -1,131, 119, 123, -1, 131, 122, 119, -1,123, 116, 131, -1, 125, 111, 116, -1,121, 123, 119, -1, 108, 130, 128, -1,108, 129, 130, -1, 108, 118, 129, -1,128, 119, 108, -1, 108, 127, 126, -1,108, 110, 127, -1, 126, 117, 108, -1,123, 124, 125, -1, 122, 108, 119, -1,119, 120, 121, -1, 108, 117, 118, -1,114, 115, 116, -1, 111, 112, 113, -1,108, 109, 110, -1, 111, 113, 134, 132,-1, 133, 114, 111, 132, -1, 143, 150,152, -1, 141, 143, 138, -1, 158, 146,150, -1, 158, 149, 146, -1, 150, 143,158, -1, 152, 138, 143, -1, 148, 150,146, -1, 135, 157, 155, -1, 135, 156,157, -1, 135, 145, 156, -1, 155, 146,135, -1, 135, 154, 153, -1, 135, 137,154, -1, 153, 144, 135, -1, 150, 151,152, -1, 149, 135, 146, -1, 146, 147,148, -1, 135, 144, 145, -1, 141, 142,143, -1, 138, 139, 140, -1, 135, 136,137, -1, 138, 140, 161, 159, -1, 160,141, 138, 159, -1]
texCoord TextureCoordinate{point[-2.46 2.44,-2.31 -1.32,-2.68 -1.76,-0.711 1.4,-0.72 0.41,-0.0179 -0.146,-0.0515 0.4,-1.2 -0.508,-1.17 1.67,-3.63 3.12,-3.23 2.74,-2.2 2.29,-2.29 1.49,-1.9 1.2,
-2.21 -1.23,-1.66 1.96,-1.81 1.14,-1.23 0.718,-2.95 -2.37,-2.9 -2.17,-2.46 1.62,-3.1 2.49,-2.82 1.97,-1.45 -0.657,0.0417 0.963,0.713 -0.0265,0.726 0.298,-3.35 -2.77,-2.27 -2.11,-2.02 -1.96,-1.51 -1.66,-1.05 -1.38,-0.622 -1.12,0.0805 -0.69,-2.46 2.44,-2.31 -1.32,-2.68 -1.76,-0.711 1.4,-0.72 0.41,-0.0179 -0.146,-0.0515 0.4,-1.2 -0.508,-1.17 1.67,-3.63 3.12,-3.23 2.74,-2.2 2.29,-2.29 1.49,-1.9 1.2,-2.21 -1.23,-1.66 1.96,-1.81 1.14,-1.23 0.718,-2.95 -2.37,-2.9 -2.17,-2.46 1.62,-3.1 2.49,
-2.82 1.97,-1.45 -0.657,0.0417 0.963,0.713 -0.0265,0.726 0.298,-3.35 -2.77,-2.27 -2.11,-2.02 -1.96,-1.51 -1.66,-1.05 -1.38,-0.622 -1.12,0.0805 -0.69,-2.46 2.44,-2.31 -1.32,-2.68 -1.76,-0.711 1.4,-0.72 0.41,-0.0179 -0.146,-0.0515 0.4,-1.2 -0.508,-1.17 1.67,-3.63 3.12,-3.23 2.74,-2.2 2.29,-2.29 1.49,-1.9 1.2,-2.21 -1.23,-1.66 1.96,-1.81 1.14,-1.23 0.718,-2.95 -2.37,-2.9 -2.17,-2.46 1.62,-3.1 2.49,-2.82 1.97,-1.45 -0.657,0.0417 0.963,0.713 -0.0265,0.726 0.298,
-3.35 -2.77,-2.27 -2.11,-2.02 -1.96,-1.51 -1.66,-1.05 -1.38,-0.622 -1.12,0.0805 -0.69,-2.46 2.44,-2.31 -1.32,-2.68 -1.76,-0.711 1.4,-0.72 0.41,-0.0179 -0.146,-0.0515 0.4,-1.2 -0.508,-1.17 1.67,-3.63 3.12,-3.23 2.74,-2.2 2.29,-2.29 1.49,-1.9 1.2,-2.21 -1.23,-1.66 1.96,-1.81 1.14,-1.23 0.718,-2.95 -2.37,-2.9 -2.17,-2.46 1.62,-3.1 2.49,-2.82 1.97,-1.45 -0.657,0.0417 0.963,0.713 -0.0265,0.726 0.298,-3.35 -2.77,-2.27 -2.11,-2.02 -1.96,-1.51 -1.66,-1.05 -1.38,-0.622 -1.12,
0.0805 -0.69,-2.46 2.44,-2.31 -1.32,-2.68 -1.76,-0.711 1.4,-0.72 0.41,-0.0179 -0.146,-0.0515 0.4,-1.2 -0.508,-1.17 1.67,-3.63 3.12,-3.23 2.74,-2.2 2.29,-2.29 1.49,-1.9 1.2,-2.21 -1.23,-1.66 1.96,-1.81 1.14,-1.23 0.718,-2.95 -2.37,-2.9 -2.17,-2.46 1.62,-3.1 2.49,-2.82 1.97,-1.45 -0.657,0.0417 0.963,0.713 -0.0265,0.726 0.298,-3.35 -2.77,-2.27 -2.11,-2.02 -1.96,-1.51 -1.66,-1.05 -1.38,-0.622 -1.12,0.0805 -0.69,
-2.46 2.44,-2.31 -1.32,-2.68 -1.76,-0.711 1.4,-0.72 0.41,-0.0179 -0.146,-0.0515 0.4,-1.2 -0.508,-1.17 1.67,-3.63 3.12,-3.23 2.74,-2.2 2.29,-2.29 1.49,-1.9 1.2,-2.21 -1.23,-1.66 1.96,-1.81 1.14,-1.23 0.718,-2.95 -2.37,-2.9 -2.17,-2.46 1.62,-3.1 2.49,-2.82 1.97,-1.45 -0.657,0.0417 0.963,0.713 -0.0265,0.726 0.298,-3.35 -2.77,-2.27 -2.11,-2.02 -1.96,-1.51 -1.66,-1.05 -1.38,-0.622 -1.12,0.0805 -0.69]}
solid FALSE
texCoordIndex[ 8, 15, 17, -1, 6, 31, 32, -1,23, 29, 30, -1, 23, 14, 29, -1,30, 31, 23, -1, 17, 3, 8, -1,13, 15, 11, -1, 0, 22, 20, -1,0, 21, 22, -1, 0, 10, 21, -1,20, 11, 0, -1, 28, 19, 18, -1,28, 2, 19, -1, 18, 27, 28, -1,15, 16, 17, -1, 14, 28, 29, -1,11, 12, 13, -1, 0, 9, 10, -1,6, 7, 31, -1, 3, 4, 5, -1,28, 1, 2, -1, 3, 5, 26, 24,-1, 25, 6, 32, 33, -1, 42, 49,51, -1, 40, 65, 66, -1, 57, 63,64, -1, 57, 48, 63, -1, 64, 65,57, -1, 51, 37, 42, -1, 47, 49,45, -1, 34, 56, 54, -1, 34, 55,56, -1, 34, 44, 55, -1, 54, 45,34, -1, 62, 53, 52, -1, 62, 36,53, -1, 52, 61, 62, -1, 49, 50,51, -1, 48, 62, 63, -1, 45, 46,47, -1, 34, 43, 44, -1, 40, 41,65, -1, 37, 38, 39, -1, 62, 35,36, -1, 37, 39, 60, 58, -1, 59,40, 66, 67, -1, 76, 83, 85, -1,74, 99, 100, -1, 91, 97, 98, -1,91, 82, 97, -1, 98, 99, 91, -1,85, 71, 76, -1, 81, 83, 79, -1,68, 90, 88, -1, 68, 89, 90, -1,68, 78, 89, -1, 88, 79, 68, -1,
96, 87, 86, -1, 96, 70, 87, -1,86, 95, 96, -1, 83, 84, 85, -1,82, 96, 97, -1, 79, 80, 81, -1,68, 77, 78, -1, 74, 75, 99, -1,71, 72, 73, -1, 96, 69, 70, -1,71, 73, 94, 92, -1, 93, 74, 100,101, -1, 110, 117, 119, -1, 108, 133,134, -1, 125, 131, 132, -1, 125, 116,131, -1, 132, 133, 125, -1, 119, 105,110, -1, 115, 117, 113, -1, 102, 124,122, -1, 102, 123, 124, -1, 102, 112,123, -1, 122, 113, 102, -1, 130, 121,120, -1, 130, 104, 121, -1, 120, 129,130, -1, 117, 118, 119, -1, 116, 130,131, -1, 113, 114, 115, -1, 102, 111,112, -1, 108, 109, 133, -1, 105, 106,107, -1, 130, 103, 104, -1, 105, 107,128, 126, -1, 127, 108, 134, 135, -1,144, 151, 153, -1, 142, 167, 168, -1,159, 165, 166, -1, 159, 150, 165, -1,166, 167, 159, -1, 153, 139, 144, -1,149, 151, 147, -1, 136, 158, 156, -1,136, 157, 158, -1, 136, 146, 157, -1,156, 147, 136, -1, 164, 155, 154, -1,164, 138, 155, -1, 154, 163, 164, -1,151, 152, 153, -1, 150, 164, 165, -1,147, 148, 149, -1, 136, 145, 146, -1,142, 143, 167, -1, 139, 140, 141, -1,164, 137, 138, -1, 139, 141, 162, 160,-1, 161, 142, 168, 169, -1, 178, 185,187, -1, 176, 201, 202, -1, 193, 199,200, -1, 193, 184, 199, -1, 200, 201,193, -1, 187, 173, 178, -1, 183, 185,181, -1, 170, 192, 190, -1, 170, 191,192, -1, 170, 180, 191, -1, 190, 181,170, -1, 198, 189, 188, -1, 198, 172,189, -1, 188, 197, 198, -1, 185, 186,187, -1, 184, 198, 199, -1, 181, 182,183, -1, 170, 179, 180, -1, 176, 177,201, -1, 173, 174, 175, -1, 198, 171,172, -1, 173, 175, 196, 194, -1, 195,176, 202, 203, -1]
}}rotation 0 -1 0  0.966
}
]}
}#END PalmTree PROTO

PROTO Fern[
field SFVec3f position 0 0 0
field SFVec3f scale 1 1 1
field SFRotation rotation 0 1 0 0
]{
Transform{translation IS position rotation IS rotation bboxSize 5 5 5 children [  
DEF frond Transform { translation -.1 .5 0 scale 3.5 3.5 3.5 children [  
Shape {  
appearance Appearance { material Material { diffuseColor 0 .3 0 specularColor .2 .4 0}}  
geometry IndexedFaceSet { solid FALSE creaseAngle 3  
coord Coordinate {point [-.645 .486 .212, -.681 .462 .115, -.636 .474 .103, -.656 .495 -.045,  
-.679 .464 -.1, -.631 .474 -.09, -.651 .474 .007, -.658 .493 .062,  
-.637 .492 .006, -.634 .524 .112, -.647 .483 -.206, -.637 .52 -.1,  
-.794 .347 .073, -.775 .358 .127, -.765 .348 .066, -.793 .348 -.062,  
-.775 .364 -.027, -.762 .347 -.056, -.775 .35 .005, -.776 .363 .04,  
-.764 .359 .005, -.763 .379 .064, -.76 .377 -.062, -.781 .355 -.128,  
-.839 .32 .046, -.832 .322 .092, -.821 .315 .043, -.839 .321 -.044,  
-.824 .327 -.021, -.819 .314 -.04, -.826 .318 .001, -.825 .327 .025,  
-.817 .322 .001, -.809 .334 .047, -.811 .333 -.044, -.834 .321 -.087,  
-.594 .546 .128, -.548 .543 .239, -.544 .527 .114, -.591 .547 -.118,  
-.549 .56 -.055, -.541 .523 -.107, -.559 .537 .004, -.552 .559 .067,  
-.534 .544 .003, -.509 .572 .124, -.515 .571 -.118, -.549 .543 -.239,  
-.467 .574 .143, -.419 .556 .269, -.42 .538 .128, -.464 .574 -.133,  
-.414 .574 -.062, -.417 .532 -.12, -.433 .553 .004, -.418 .574 .075,  
-.403 .552 .003, -.367 .574 .14, -.374 .574 -.133, -.42 .556 -.269,  
-.313 .555 .159, -.278 .509 .299, -.29 .493 .142, -.31 .553 -.148,  
-.263 .524 -.069, -.291 .486 -.134, -.293 .515 .005, -.266 .526 .083,  
-.265 .497 .004, -.219 .497 .156, -.225 .5 -.148, -.279 .51 -.299,  
-.711 .415 .176, -.744 .399 .092, -.702 .404 .082, -.719 .422 -.045,  
-.739 .396 -.092, -.698 .403 -.084, -.715 .404 0, -.72 .42 .047,  
-.702 .419 -.001, -.699 .447 .09, -.713 .413 -.183, -.702 .444 -.092,  
-.886 .289 .021, -.865 .292 .007, -.884 .272 .006, -.885 .292 -.007,  
-.933 .283 .005, -.839 .305 .012, -.839 .305 .003, -.777 .364 .007,  
-.797 .339 .003, -.824 .327 .007, -.719 .421 .007, -.744 .384 .002,  
-.552 .558 .009, -.6 .516 .004, -.659 .493 .008, -.417 .574 .01,  
-.483 .555 .003, -.266 .526 .011, -.35 .54 .004, -.152 .431 .01,  
-.224 .471 .004, -.798 .339 .016, -.742 .384 .015, -.6 .516 .017,  
-.482 .555 .016, -.35 .541 .017, -.224 .471 .017, -.682 .449 .015,  
-.683 .447 .002, -.192 .465 .143, -.161 .431 .269, -.179 .407 .128,  
-.189 .463 -.133, -.151 .431 -.062, -.181 .401 -.12, -.179 .426 .004,  
-.154 .433 .075, -.135 .404 .004, -.115 .4 .14, -.12 .404 -.133,  
-.167 .42 -.269, -.101 .338 -.002, -.052 .29 .005, -.051 .219 0,  
-.013 .143 .007, -.031 .028 -.001, .005 .01 .005, -.099 .335 .011,  
-.051 .22 .012, -.031 .027 .012,  
]}  
coordIndex [129 133 130 -1, 129 128 133 -1, 127 132 128 -1, 127 126 132 -1, 125 131 126  
-1, 125 121 131 -1, 130 133 128 -1, 128 132 126 -1, 126 131 121 -1, 129 130  
128 -1, 127 128 126 -1, 125 126 121 -1, 115 114 122 -1, 115 120 113 -1, 118  
117 123 -1, 118 124 116 -1, 123 124 118 -1, 122 120 115 -1, 120 121 117 -1,  
117 119 120 -1, 116 117 118 -1, 113 114 115 -1, 110 104 103 -1, 101 104 110  
-1, 109 102 101 -1, 99 102 109 -1, 108 100 99 -1, 96 100 108 -1, 107 97 96  
-1, 98 97 107 -1, 112 111 94 -1, 112 98 111 -1, 106 95 94 -1, 91 95 106 -1,  
105 92 91 -1, 93 92 105 -1, 112 94 98 -1, 94 111 98 -1, 90 89 93 -1, 110 103  
101 -1, 109 101 99 -1, 108 99 96 -1, 107 96 98 -1, 106 94 91 -1, 105 91 93  
-1, 103 104 101 -1, 101 102 99 -1, 99 100 96 -1, 96 97 98 -1, 94 95 91 -1,  
91 92 93 -1, 85 89 90 -1, 86 85 87 -1, 86 88 84 -1, 87 88 86 -1, 84 85 86  
-1, 72 74 81 -1, 79 74 73 -1, 75 77 83 -1, 82 77 76 -1, 82 83 77 -1, 79 81  
74 -1, 80 79 75 -1, 78 75 79 -1, 75 76 77 -1, 72 73 74 -1, 62 61 69 -1, 62  
67 60 -1, 65 64 70 -1, 65 71 63 -1, 70 71 65 -1, 69 67 62 -1, 67 68 64 -1,  
64 66 67 -1, 63 64 65 -1, 60 61 62 -1, 50 49 57 -1, 50 55 48 -1, 53 52 58  
-1, 53 59 51 -1, 58 59 53 -1, 57 55 50 -1, 55 56 52 -1, 52 54 55 -1, 51 52  
53 -1, 48 49 50 -1, 38 37 45 -1, 38 43 36 -1, 41 40 46 -1, 41 47 39 -1, 46  
47 41 -1, 45 43 38 -1, 43 44 40 -1, 40 42 43 -1, 39 40 41 -1, 36 37 38 -1,  
26 25 33 -1, 26 31 24 -1, 29 28 34 -1, 29 35 27 -1, 34 35 29 -1, 33 31 26  
-1, 31 32 28 -1, 28 30 31 -1, 27 28 29 -1, 24 25 26 -1, 14 13 21 -1, 14 19  
12 -1, 17 16 22 -1, 17 23 15 -1, 22 23 17 -1, 21 19 14 -1, 19 20 16 -1, 16  
18 19 -1, 15 16 17 -1, 12 13 14 -1, 0 2 9 -1, 7 2 1 -1, 3 5 11 -1, 10 5 4  
-1, 10 11 5 -1, 7 9 2 -1, 8 7 3 -1, 6 3 7 -1, 3 4 5 -1, 0 1 2 -1,]}  
}  
]}  
Transform { rotation 0 1 0 1.571 children USE frond}  
Transform { rotation 0 1 0 3.142 children USE frond}  
Transform { rotation 0 1 0 -1.571 children USE frond}  
DEF bigFrond Transform { rotation 0 1 .3 .785 translation 0 .75 0 scale 1.5 .8 1.2 children USE frond}  
Transform { rotation 0 1 0 1.571 children USE bigFrond}  
Transform {rotation 0 1 0 3.142 children USE bigFrond}  
Transform {rotation 0 1 0 -1.571 children USE bigFrond}  
Transform {translation 0 .75 0 scale .8 1 .8 children [  
Shape {  
appearance Appearance {material Material { diffuseColor .7 .7 .7 specularColor .2 .2 .2}  
texture PixelTexture{image 1 3 3 0x000000 0x221100 0x441100 } 
textureTransform TextureTransform{scale 1 6}
}  
geometry Sphere {radius .75}  
}  
Transform{translation 0 -.9 0 rotation 1 0 0 3.142 children[  
Shape{  
appearance Appearance{ material Material {diffuseColor 0 0 0 specularColor .8 .8 1 shininess 1 }}  
geometry Cone{bottomRadius .825 height 1.5}  
}  
]}  
]}  
]}  
}#END Fern PROTO


PROTO AnalogClock[
eventIn SFTime getTime
exposedField SFVec3f position 0 0 0
exposedField SFRotation rotation 0 1 0 0 
exposedField MFString scriptUrl ["http://www.cybertown.com/cgi-bin/games/vrmltime.pl"]
exposedField MFNode minuteChildren [
 Transform{translation 0 .5 0 scale 1 1 .25
  children Shape{
  appearance Appearance{material Material{diffuseColor 0 0 0 specularColor 1 1 1}}
  geometry Cone{height 1 bottomRadius .085}
 }}
]
exposedField MFNode hourChildren [
 Transform{translation 0 .375 0 scale 1 1 .25
  children Shape{
  appearance Appearance{material Material{diffuseColor 0 0 0 specularColor 1 1 1}}
  geometry Cone{height .75 bottomRadius .115}
 }}
]

eventOut SFVec2f time
]{
Transform{
translation IS position rotation IS rotation
children[

DEF min_hand Transform{center 0 0 0
children[
 Group{children IS minuteChildren}
 DEF minClock TimeSensor{ cycleInterval 3600 loop FALSE enabled TRUE} 
 DEF minInterp OrientationInterpolator{key[0,.5,1]keyValue[0 0 1 0,0 0 1 3.142,0 0 1 6.284]}
]}

DEF hour_hand Transform{center 0 0 0
children[
 Group{children IS hourChildren}
 DEF hourClock TimeSensor{ cycleInterval 43200 loop FALSE enabled TRUE}
 DEF hourInterp OrientationInterpolator{key[0,.5,1]keyValue[0 0 1 0,0 0 1 3.142,0 0 1 6.284]}
]}

DEF analogClock Script{
eventIn MFNode receive 
field MFString scriptUrl IS scriptUrl
field SFNode self USE analogClock 
eventOut SFTime min_changed
eventOut SFBool min_loop
eventOut SFTime hour_changed
eventOut SFBool hour_loop
eventOut SFVec2f time
url "vrmlscript:
function set_hour(v,t){
 hour_changed = t - (v * 3600);
}
function set_min(v,t){
 min_changed = t - (v * 60);
}
function receive(v,t){
 if (v.length==0) return; // hg 
 min = v[0].min; 
 hour = v[0].hour + 2;
 if(hour >= 24){hour -= 23;}
 if(hour >= 12){hour -= 11;}
 set_min(min,t);
 set_hour(hour,t);
}
function getTime(){Browser.createVrmlFromURL(scriptUrl,self,'receive');}
function initialize(){Browser.createVrmlFromURL(scriptUrl,self,'receive');}
"}
]}
ROUTE analogClock.min_changed TO minClock.set_startTime
ROUTE analogClock.min_loop TO minClock.set_loop
ROUTE minClock.fraction_changed TO minInterp.set_fraction
ROUTE minInterp.value_changed TO min_hand.set_rotation
ROUTE analogClock.hour_changed TO hourClock.set_startTime
ROUTE analogClock.hour_loop TO hourClock.set_loop
ROUTE hourClock.fraction_changed TO hourInterp.set_fraction
ROUTE hourInterp.value_changed TO hour_hand.set_rotation 
}#END AnlaogClock PROTO

PROTO MallBench[
field SFVec3f translation 0 0 0
field SFRotation rotation 0 1 0 0
field SFVec3f scale .8 .8 .8
]{
Transform{translation IS translation rotation IS rotation scale IS scale bboxSize 3 3 2 children[
Transform {
children Shape {
appearance  Appearance {material  Material {diffuseColor    0.2 0.1 0.32 specularColor   0.31 0.39 0.39 shininess       0.13}}
geometry IndexedFaceSet {solid  FALSE creaseAngle 3.142
coord Coordinate {point [ -2 1 0,-2 2 0.1,2 2 0.1,2 1 0,2 1.5 0.2,-2 1.5 0.2,2 1.75 0.2,-2 1.8 0.2,2 1.2 0.1,-2 1.2 0.1,-2 1 -1.1,2 1 -1.1,-2 0.8 -1.2,2 0.8 -1.2,-2 0.6 -1.1,2 0.6 -1.1,-2 0.5 -0.7,2 0.5 -0.7 ]}
coordIndex [5, 7, 6, 4, -1, 7, 1, 2,6, -1, 0, 9, 8, 3, -1, 9,5, 4, 8, -1, 0, 3, 11, 10,-1, 10, 11, 13, 12, -1, 12, 13,15, 14, -1, 14, 15, 17, 16, -1 ]
}}}
Transform {translation 0 2 0 rotation 0 0 1 1.571
children Shape {
appearance  Appearance {material  Material {diffuseColor 0.44 0.15 0 specularColor 0.78 0.69 0.4 shininess 0.12}}
geometry Cylinder{radius 0.1 height 4.125}}}
Transform {translation -2 1 -0.5 scale 1 1 3
children Shape {
appearance  Appearance {material  Material {diffuseColor 0.44 0.15 0 specularColor 0.78 0.69 0.4 shininess 0.12}}
geometry Sphere {radius 0.25}}}
Transform {translation   2 1 -0.5 scale 1 1 3
children Shape {
appearance  Appearance {material  Material {diffuseColor 0.44 0.15 0 specularColor 0.78 0.69 0.4 shininess 0.12}}
geometry Sphere{radius 0.25}}} 
Transform {translation   -2 0.5 -0.5
children      Shape {
appearance  Appearance {material  Material {diffuseColor 0.37 0.37 0.37 specularColor 0.72 0.89 0.89 shininess 0.13}}
geometry Cylinder{radius 0.1 height 1}}}
Transform {translation   2 0.5 -0.5
children Shape {
appearance  Appearance{material  Material {diffuseColor 0.37 0.37 0.37 specularColor 0.72 0.89 0.89 shininess 0.13}}
geometry Cylinder {radius 0.1 height 1}}}
Transform {translation   -2 0 -0.5 scale 1 0.2 1
children Shape {
appearance  Appearance {material  Material {diffuseColor 0.37 0.37 0.37 specularColor 0.72 0.89 0.89 shininess 0.13}}
geometry Sphere{radius 0.3}}}
Transform {translation   2 0 -0.5 scale 1 0.2 1
children Shape {
appearance  Appearance {material  Material {diffuseColor 0.37 0.37 0.37 specularColor 0.72 0.89 0.89 shininess 0.13}}
geometry Sphere{radius 0.3}}}
]}}#END MallBench


PROTO AtriumFloor[

]{
Group {
children [
DEF fwedge Shape {
appearance Appearance {texture ImageTexture {url "floor.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point [
-40 0 -15.8 -34.6 0 -25.2 0 0 0 -25.2 0 -34.6
-15.8 0 -40 -15.3 0 -38.7 15.5 0 -38.8]}
texCoord TextureCoordinate {point [.00894 .00442 .0417 .246 .994 .00327 .163 .53 .315 .726 .341 .699 .341 .699 .991 .956]}
coordIndex [2 1 0 -1 2 5 4 3 -1 1 2 3 -1 5 2 6 -1]
texCoordIndex [2 1 0 -1 2 5 4 3 -1 1 2 3 -1 6 2 7 -1]
}}
Transform{rotation 0 1 0 -1.571 children USE fwedge}
Transform{rotation 0 1 0 1.571 children USE fwedge}
Transform{rotation 0 1 0 3.142 children USE fwedge}
]
}
}

PROTO UpperWall[
field SFVec3f position 0 0 0
field SFRotation rotation 0 1 0 0
]{
Transform { translation IS position rotation IS rotation
children Shape {
appearance Appearance {material  Material {diffuseColor .1 0 .2}}
geometry IndexedFaceSet {
coord Coordinate {point [-4 15 6.5,-4 8 0,4 15 6.5,4 8 0,-4 15 7,-4 8 7,4 15 7,4 8 7]}
coordIndex  [ 1, 0, 4, 5, -1, 0, 2, 6,4, -1, 2, 3, 7, 6, -1 ]
ccw FALSE
}}}
}#END PROTO



PROTO TransformView[
exposedField SFVec3f position 0 0 0
exposedField SFRotation rotation 0 1 0 0
exposedField SFBool bind FALSE
]{
Transform{translation IS position rotation IS rotation children Viewpoint{set_bind IS bind}}
}

PROTO Elevator[
field SFVec3f elevatorPos 0 0 0
field SFRotation elevatorRot 0 1 0 0
field SFNode elevatorView Group{}
field SFInt32 maxFloor 0
]{
Group{
children[
Transform{translation -17.5 0 -17.5 rotation 0 1 0 .7855  
children[
Sound{intensity .25
source DEF elev_sound AudioClip{url ["sounds/bzzz.wav"]loop TRUE pitch .5}
maxBack 5000 maxFront 5000 minBack 5000 minFront 5000 spatialize FALSE
}
Transform {
children DEF _1 Shape {
appearance Appearance{material Material {diffuseColor  0.37 0.37 0.37 shininess     0.13}}
geometry Cylinder{radius  2 height 0.1 top FALSE bottom FALSE
}}translation 0 3 0
}
Transform{children USE _1 translation 0 3.5 0}
Transform{children USE _1 translation 0 4 0}
Transform{children USE _1 translation 0 4.5 0}
Transform{children USE _1 translation 0 5 0}
Collision{ collide FALSE children[
Transform {
children Shape {
appearance Appearance{material Material{diffuseColor 0.79 0.25 0 specularColor 0.63 0.19 0.03 shininess 0.55}}
geometry IndexedFaceSet {creaseAngle 3 solid FALSE 
coord Coordinate{point[0 -0.05 -2,0 0.05 -2,0.76 -.05 -1.84,0.76 .05 -1.84,1.41 -.05 -1.41,1.41 .05 -1.41,1.84 -.05 -.76,1.84 .05 -.76,2 -.05 0,2 .05 0,
1.84 -.05 .76,1.84 .05 .76,1.41 -.05 1.41,1.41 .05 1.41,-1.41 -.05 1.41,-1.41 .05 1.41,-1.84 -.05 .76,-1.84 .05 .76,-2 -.05 0,-2 .05 0,-1.84 -.05 -.76,-1.84 .05 -.76,-1.41 -.05 -1.41,-1.41 .05 -1.41,-0.76 -.05 -1.84,-0.76 .05 -1.84,0 1.4 -2,0 1.5 -2,0.76 1.4 -1.84,0.76 1.5 -1.84,1.41 1.4 -1.41,1.41 1.5 -1.41,1.84 1.4 -.76,1.84 1.5 -.76,2 1.4 0,2 1.5 0,1.84 1.4 .76,1.84 1.5 .76,1.41 1.4 1.41,1.41 1.5 1.41,-1.41 1.4 1.41,-1.41 1.5 1.41,-1.84 1.4 .76,-1.84 1.5 .76,-2 1.4 0,
-2 1.5 0,-1.84 1.4 -.76,-1.84 1.5 -.76,-1.41 1.4 -1.41,-1.41 1.5 -1.41,-.76 1.4 -1.84,-.76 1.5 -1.84,0 0.9 -2,0 1 -2,.76 0.9 -1.84,.76 1 -1.84,1.41 0.9 -1.41,1.41 1 -1.41,1.84 0.9 -.76,1.84 1 -.76,2 0.9 0,2 1 0,1.84 0.9 .76,1.84 1 .76,1.41 0.9 1.41,1.41 1 1.41,-1.41 0.9 1.41,-1.41 1 1.41,-1.84 0.9 .76,-1.84 1 .76,-2 0.9 0,-2 1 0,-1.84 0.9 -.76,-1.84 1 -.76,-1.41 0.9 -1.41,-1.41 1 -1.41,-.76 0.9 -1.84,-.76 1 -1.84,
0 0.4 -2,0 0.5 -2,.76 0.4 -1.84,.76 0.5 -1.84,1.41 0.4 -1.41,1.41 0.5 -1.41,1.84 0.4 -.76,1.84 0.5 -.76,2 0.4 0,2 0.5 0,1.84 0.4 .76,1.84 0.5 .76,1.41 0.4 1.41,1.41 0.5 1.41,-1.41 0.4 1.41,-1.41 0.5 1.41,-1.84 0.4 .76,-1.84 0.5 .76,-2 0.4 0,-2 0.5 0,-1.84 0.4 -.76,-1.84 0.5 -.76,-1.41 0.4 -1.41,-1.41 0.5 -1.41,-.76 0.4 -1.84,-.76 0.5 -1.84]}
coordIndex[ 0, 1, 3, 2, -1, 2, 3, 5,4, -1, 4, 5, 7, 6, -1, 6,7, 9, 8, -1, 8, 9, 11, 10,-1, 10, 11, 13, 12, -1, 14, 15,17, 16, -1, 16, 17, 19, 18, -1,18, 19, 21, 20, -1, 20, 21, 23,22, -1, 22, 23, 25, 24, -1, 24,25, 1, 0, -1, 26, 27, 29, 28,-1, 28, 29, 31, 30, -1, 30, 31,33, 32, -1, 32, 33, 35, 34, -1,34, 35, 37, 36, -1, 36, 37, 39,38, -1, 40, 41, 43, 42, -1, 42,43, 45, 44, -1, 44, 45, 47, 46,-1, 46, 47, 49, 48, -1, 48, 49,51, 50, -1, 50, 51, 27, 26, -1,52, 53, 55, 54, -1, 54, 55, 57,56, -1, 56, 57, 59, 58, -1, 58,59, 61, 60, -1, 60, 61, 63, 62,-1, 62, 63, 65, 64, -1, 66, 67,69, 68, -1, 68, 69, 71, 70, -1,70, 71, 73, 72, -1, 72, 73, 75,74, -1, 74, 75, 77, 76, -1, 76,77, 53, 52, -1, 78, 79, 81, 80,-1, 80, 81, 83, 82, -1, 82, 83,85, 84, -1, 84, 85, 87, 86, -1,86, 87, 89, 88, -1, 88, 89, 91,90, -1, 92, 93, 95, 94, -1, 94,95, 97, 96, -1, 96, 97, 99, 98,-1, 98, 99, 101, 100, -1, 100, 101,103, 102, -1, 102, 103, 79, 78, -1]
}}}
]}
]}
LOD {range 15 center -17.5 2 -14.5
level [
Transform{translation -17.5 2 -14.5 rotation 0 1 0 .7855 
children[
Billboard{
children[

Transform {translation -.1 -.075 0
children Shape {appearance Appearance {material Material {diffuseColor .62 .55 .26 specularColor 0 0 0 emissiveColor .62 .55 .26}}geometry DEF floor_number Text {fontStyle FontStyle {size .3 family "SANS" style "BOLD" justify "MIDDLE"}string ""}}
}
Transform {children[ 
DEF up_button TouchSensor{} 
Shape {appearance Appearance {material Material {emissiveColor .88 .15 .01 diffuseColor .88 .15 .01 specularColor 0 0 0}}geometry IndexedFaceSet {coord Coordinate {point[.113 .1 .05 .15 .3 .05 .187 .1 .05]}coordIndex [2,1,0,-1]}}
]}
Transform {children[ 
DEF down_button TouchSensor{}
Shape {appearance Appearance {material Material {emissiveColor .88 .15 .01 diffuseColor .88 .15 .01 specularColor 0 0 0}}geometry IndexedFaceSet{coord Coordinate {point[.187 -.1 .05 .15 -.3 .05 .113 -.1 .05]}coordIndex [2,1,0,-1]}}
]}
Transform { translation .15 0 0 rotation 1 0 0 1.57 children[ 
DEF go_button TouchSensor{} 
Shape {appearance Appearance {material Material {emissiveColor .0251 .69 .0349 specularColor .36 .54 .522}}geometry Cylinder {radius .05 height .1 bottom FALSE side FALSE}}
]}
Transform{translation 0 0 -.15
children Shape{
appearance Appearance{material Material{diffuseColor .05 0 .1 emissiveColor .05 0 .1 specularColor 0 0 0}}
geometry Box{size .7 .7 .001}
}}

]}
]}
Group{}
]}#END LOD
DEF elev_clock TimeSensor{loop FALSE}
DEF elev_interp PositionInterpolator{key[0,.1,.9,1] keyValue[0 0 0,0 0 0,0 0 0,0 0 0]}
DEF elev_prox ProximitySensor{size 10 3 10 center -17.5 1.25 -14.5}
DEF elev_orinterp OrientationInterpolator{key[0,.1,.9,1] keyValue[0 1 0 0,0 1 0 0,0 1 0 0]}
DEF elev_script Script{
eventIn SFTime set_up
eventIn SFTime set_down
eventIn SFTime set_go
eventIn SFTime set_active
eventIn SFVec3f set_position
eventIn SFRotation set_orientation
field SFNode elevatorView IS elevatorView
field SFRotation rotation IS elevatorRot
field SFVec3f pos IS elevatorPos
#field SFVec3f offset -17.5 0 -17.5
#field SFVec3f fp -15.5 0 -15.5
field SFVec3f offset -13.125 0 -13.125
field SFVec3f fp -11.625 0 -11.625
field SFRotation r 0 1 0 3.9275
field SFInt32 currentFloor 1
field SFInt32 floorHeight 6
field SFInt32 maxFloor IS maxFloor
eventOut MFString floor_changed
eventOut MFVec3f keyValue_changed
eventOut MFRotation orValue_changed
eventOut SFVec3f position_changed
eventOut SFTime interval_changed
eventOut SFBool bind_changed
eventOut SFTime startTime_changed
eventOut SFTime stopTime_changed
directOutput TRUE
url "vrmlscript:
function set_floor(v){
 if(currentFloor < 0){currentFloor = 0;}
 if(currentFloor > maxFloor){currentFloor = maxFloor;}
 if(currentFloor == 0){thisFloor = 'G';}
 else{thisFloor = currentFloor;}
 floor_changed = new MFString(thisFloor);
}
function set_up(v,t){ currentFloor += 1; set_floor();}
function set_down(v,t){ currentFloor -= 1; set_floor();}
function set_go(v,t){
 elevatorView.set_orientation = Browser.viewpointOrientation;
 elevatorView.set_position = Browser.viewpointPosition;
 elevatorView.set_bind = true;
 if(((currentFloor*floorHeight) + Browser.getAvatarHeight()) < (Browser.viewpointPosition[1] + .25) && ((currentFloor*floorHeight) + Browser.getAvatarHeight()) > (Browser.viewpointPosition[1] - .25)){return;}
 keyValue_changed = new MFVec3f(
  Browser.viewpointPosition,
  new SFVec3f(offset[0],Browser.viewpointPosition[1],offset[2]),
  new SFVec3f(offset[0],(currentFloor*floorHeight) + Browser.getAvatarHeight(),offset[2]),  
  new SFVec3f(fp[0],(currentFloor*floorHeight) + Browser.getAvatarHeight(),fp[2])
 );
 orValue_changed = new MFRotation(
  Browser.viewpointOrientation,
  Browser.viewpointOrientation,
  r,
  r
 );
 interval_changed = Math.abs(((Browser.viewpointPosition[1] -Browser.getAvatarHeight())/floorHeight) - (currentFloor)) * 1; 
 startTime_changed = t;
 stopTime_changed = t + interval_changed;
}
function set_active(v,t){currentFloor = Math.round((Browser.viewpointPosition[1] -Browser.getAvatarHeight())/floorHeight);  set_floor();}
function set_position(v,t){elevatorView.set_position = v;}
function set_orientation(v,t){elevatorView.set_orientation =v;}
function initialize(){ pos = pos.multiply(.75);
  offset = rotation.multVec(offset); offset = offset.add(pos);
  fp = rotation.multVec(fp); fp = fp.add(pos);
  r = rotation.multiply(r);
  stopTime_changed = Browser.getTime();
}
"}
]}
ROUTE elev_prox.enterTime TO elev_script.set_active
ROUTE elev_script.floor_changed TO floor_number.set_string
ROUTE up_button.touchTime TO elev_script.set_up
ROUTE down_button.touchTime TO elev_script.set_down
ROUTE go_button.touchTime TO elev_script.set_go
ROUTE elev_script.interval_changed TO elev_clock.set_cycleInterval
ROUTE elev_script.startTime_changed TO elev_clock.set_startTime
ROUTE elev_clock.fraction_changed TO elev_interp.set_fraction
ROUTE elev_clock.fraction_changed TO elev_orinterp.set_fraction
ROUTE elev_script.keyValue_changed TO elev_interp.set_keyValue
ROUTE elev_script.orValue_changed TO elev_orinterp.set_keyValue
ROUTE elev_interp.value_changed TO elev_script.set_position
ROUTE elev_orinterp.value_changed TO elev_script.set_orientation
ROUTE elev_script.startTime_changed TO elev_sound.set_startTime
ROUTE elev_script.stopTime_changed TO elev_sound.set_stopTime
}#END Elevator

 
PROTO Balcony[
field SFVec3f position 0 0 0
field SFRotation rotation 0 1 0 0
field SFVec3f elevatorPos 0 0 0
field SFRotation elevatorRot 0 1 0 0
field SFNode elevatorView Group{}
field SFInt32 maxFloor 10
]{
Group{ children[
Transform{translation IS position rotation IS rotation
children[
Shape {
appearance Appearance {texture ImageTexture {url "bsuppot_2.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point [-22.3 8 -10 -10 8 -22.3 10 8 -22.3 -15.5 8 -7 -7 8 -15.5 7 8 -15.5 18.3 8 -38.5 -18.5 8 -38.5 -22.3 8 -10 -10 8 -22.3 -22.3 7 -10 -10 7 -22. 10 7 -22.3 -15.5 7 -7 -7 7 -15.5 7 7 -15.5 18.3 7 -38.5 -18.5 7 -38.5 -22.3 7 -10 -10 7 -22.3 -22 7 -8.25 8.25 7 -22 -17 7 -7.75 -7.75 7 -17 7.75 7 -17 16.8 7 -38.5 -8.25 7 -22 -17 7 -38.5 -17 8 -7.75 -7.75 8 -17 7.75 8 -17 8.25 8 -22 16.8 8 -38.5 -8.25 8 -22 -17 8 -38.5 -22 8 -8.25]}
texCoord TextureCoordinate {point [0 1 0 1 0 1 1 1 1 1 1 1 0 1 1 1 1 .5 0 .5 1 .5 1 .5 1 .5 0 .5 1 .5 0 .5 0 .5 0 .5 1 .5 1 .5 1 .5 1 .5 0 .5 0 1 1 1 1 1 0 1 1 1 1 1 0 1 0 1 0 .5 1 1 1 .5 0 .5 0 1 0 .5 0 1]}
coordIndex [8 9 1 0 -1 11 10 0 1 -1 13 14 4 3 -1 14 15 5 4 -1 19 18 8 9 -1 23 22 28 29 -1 24 23 29 30 -1 20 26 33 35 -1 27 34 33 26 -1 16 6 2 12 -1 32 25 21 31 -1 7 17 11 1 9 -1]
texCoordIndex [0 7 7 0 -1 14 31 0 7 -1 9 10 3 2 -1 36 11 4 37 -1 14 31 0 7 -1 18 17 23 24 -1 19 34 35 25 -1 15 21 28 30 -1 22 29 32 33 -1 12 5 1 8 -1 27 20 16 26 -1 6 13 14 7 7 -1]
}}
Shape {
appearance Appearance {texture ImageTexture {url "bsuppot_2.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point [8.25 7 -22 10 7 -22.3 16.8 7 -38.5 18.3 7 -38.5 7.75 7 -17 7 7 -15.5 -17 7 -7.75 -15.5 7 -7 -7.75 7 -17 -7 7 -15.5 -8.25 7 -22 -10 7 -22.3 -18.5 7 -38.5 -17 7 -38.5 -22 7 -8.25 -22.3 7 -10 -10 7 -22.3]}
texCoord TextureCoordinate {point [0 0 0 .5 3 .5 3 0 3 0 0 0 0 .5 3 .5 3 0 0 0 0 .5 3 .5 0 .5 0 0 3 0 3 .5 0 0 0 .5 3 .5 3 0]}
coordIndex [2 3 1 0 -1 6 8 9 7 -1 8 4 5 9 -1 10 11 12 13 -1 14 15 16 10-1]
texCoordIndex [0 1 2 3 -1 4 5 6 7 -1 8 9 10 11 -1 12 13 14 15 -1 16 17 18 19 -1]
}}
Shape {                        
appearance Appearance {texture ImageTexture {url "bg147.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point [18.3 8 -38.5 -18.5 8 -38.5 -10 8 -22.3 10 8 -22.3 -7 8 -15.5 7 8 -15.5 -22.3 8 -10 -15.5 8 -7 15.8 8 -40 -15.8 8 -40 -18.5 10.3 -38.5 18.3 10.3 -38.5]}
texCoord TextureCoordinate {point [1.88 1.63 .321 1.63 .605 .753 1.59 .753 .753 .42 1.44 .42 0 .148 .333 0 .185 1.56 2 1.56 0 0 0 0]}
coordIndex [3 2 4 5 -1 2 6 7 4 -1 0 1 2 3 -1 1 0 8 9 -1]
texCoordIndex [3 2 4 5 -1 2 6 7 4 -1 9 8 2 3 -1 8 9 0 1 -1 9 8 8 9 -1]
}}
Shape {
appearance Appearance {material Material {diffuseColor .34 .15 .05}}
geometry IndexedFaceSet {
coord Coordinate {point [-22 7.75 -8.25 -17 7.75 -7.75 -8.25 7.75 -22 -7.75 7.75 -17 -17 8 -38.5 16.8 8 -38.5 8.25 7.75 -22 7.75 7.75 -17]}
texCoord TextureCoordinate {point [-1.14 -1.21 -1.01 -1.19 -.781 -1.56 -.768 -1.43 -1.01 -1.99 -.135 -1.99 -.355 -1.56 -.368 -1.43]}
coordIndex [1 0 2 3 -1 4 5 6 2 -1 2 6 7 3 -1]
}}

Transform {translation   -17.5 6 -17.5
children Shape {
appearance Appearance{material Material{diffuseColor 0.22 0 0.16 transparency  0.8}}
geometry Cylinder{radius 1.8 height 5.5 top FALSE bottom FALSE}}
}

Occlusion{
enabled TRUE
proxy Transform{translation 0 8 0 children Box{size 80 16 80}}
children[

Shape {
appearance Appearance{material Material{transparency 1}}
geometry IndexedFaceSet {
coord Coordinate {point [-15.5 8 -7 -7 8 -15.5 -7 11.2 -15.5 -15.5 11.2 -7 7 8 -15.5 7 11.2 -15.5 10 8 -22.3 18.3 8 -38.5 18.3 11.2 -38.5 10 11.2 -22.3 -18.5 16 -38.5 -10 16 -22.3 -10 18.3 -22.3 -18.5 18.3 -38.5 -22.3 16 -10 -22.3 18.3 -10 -18.5 8 -38.5 -10 8 -22.3 -10 11.2 -22.3 -18.5 11.2 -38.5 -22.3 8 -10 -22.3 11.2 -10]}
coordIndex [3 2 1 0 -1 2 5 4 1 -1 9 8 7 6 -1 13 12 11 10 -1 12 15 14 11 -1 19 18 17 16 -1 18 21 20 17 -1]
}}

Shape{
appearance  Appearance {material  Material {diffuseColor 0.44 0.15 0 specularColor 0.78 0.69 0.4 shininess 0.12}}
geometry Extrusion{
crossSection[-.025 .1,-.025 0]
spine[-15.5 8.75 -7,-7 8.75 -15.5,7 8.75 -15.5]
creaseAngle 3 solid FALSE
}}

Transform{
translation -15.5 8.8 -7
children[
Shape{
appearance  Appearance {material  Material {diffuseColor 0.37 0.37 0.37 specularColor 0.72 0.89 0.89 shininess 0.13}}
geometry Sphere{radius .1}
}
]}

MallBench{
translation   -11 8 -30
rotation      0 -1 0  1.571
}
MallBench{
translation   11 8 -30
rotation      0 1 0  1.571
}

Elevator{maxFloor IS maxFloor elevatorRot IS elevatorRot elevatorView IS elevatorView elevatorPos IS elevatorPos}

]}
]}
]}

}#END Balcony 
 

PROTO Threshold[
field MFString mall_string []
field MFString hall_string []
]{
Transform {
children [

Transform {
translation 36 5.5 0
rotation 0 -1 0 1.571
children[

Sound{intensity .25
source DEF doorSound AudioClip{url ["sounds/bzzz.wav"]loop FALSE pitch 2}
maxBack 100 maxFront 100 minBack 100 minFront 100
}

LOD{range 35
level[
Group{children[
Shape {
appearance  Appearance {material  Material {diffuseColor    0.2 0.083 0.18}}
geometry Box { size      6 1.5 .25
}}
Transform {
children      Shape {
appearance  Appearance {material  Material {emissiveColor 1 .75 0}}
geometry    Text {
fontStyle FontStyle {size    .8 justify "MIDDLE"}
string IS mall_string
}}translation   0 0 0.6
}
Transform {
children Shape {
appearance  Appearance {material  Material {diffuseColor    0.44 0.15 0 specularColor   0.78 0.69 0.4 shininess       0.12}}
geometry Cylinder {radius    0.2 height    6.5}
}translation   0 -0.5 0.6 rotation      0 0 1  1.571}
]}
Group{}
]}
]}
Transform {
translation 41 5.5 0
rotation 0 1 0 1.571
children[
LOD{range 25
level[
Group{children[
Shape {
appearance  Appearance {material  Material {diffuseColor    0.2 0.083 0.18}}
geometry Box { size      6 1.5 .25
}}
Transform {
children      Shape {
appearance  Appearance {material  Material {emissiveColor 1 .75 0}}
geometry    Text {
fontStyle FontStyle {size    .8 justify "MIDDLE"}
string IS hall_string
}}translation   0 0 0.6
}
Transform {
children Shape {
appearance  Appearance {material  Material {diffuseColor    0.44 0.15 0 specularColor   0.78 0.69 0.4 shininess       0.12}}
geometry Cylinder {radius    0.2 height    6.5}
}translation   0 -0.5 0.6 rotation      0 0 1  1.571}
]}
Group{}
]}
]}


DEF dprox ProximitySensor{size 10 15 15 center 38.5 0 0}
Group{
children[
DEF dbutton TouchSensor{enabled FALSE}
Shape {
appearance Appearance {texture ImageTexture {url "door.jpg"}}
geometry IndexedFaceSet{solid FALSE
coord DEF d Coordinate {point[38.5 0 3,38.5 6 3,38.5 0 -3,38.5 6 -3,38.5 0 0,38.5 6 0,38.5 0 0,38.5 6 0]}
coordIndex [0,4,5,1,-1,2,3,7,6,-1]
texCoord TextureCoordinate {point[.115 0,.885 0,.885 .8,.115 .8,.5 0,.5 .8]}
texCoordIndex [0,4,5,3,-1,1,2,5,4,-1]
}}
]}
Shape {
appearance Appearance {texture ImageTexture {url "wall_9e.jpg"}}
geometry IndexedFaceSet{solid FALSE
coord Coordinate {point[38.5 0 10.2,38.5 0 3,38.5 6 3,38.5 6 6.83,38.5 2.8 10.2,38.5 0 -3,38.5 0 -10.2,38.5 2.8 -10.2,38.5 6 -6.83,38.5 6 -3]}
coordIndex [0,1,2,3,4,-1,5,6,7,8,9,-1]
texCoord TextureCoordinate {point[0 0,.8 0,.8 .45,.4 .45,0 .21]}
texCoordIndex [0,1,2,3,4,-1,1,0,4,3,2,-1]
}}
DEF dopen CoordinateInterpolator{key[0,1]keyValue[38.5 0 3,38.5 6 3,38.5 0 -3,38.5 6 -3,38.5 0 0,38.5 6 0,38.5 0 0,38.5 6 0,38.5 0 3,38.5 6 3,38.5 0 -3,38.5 6 -3,38.5 0 3,38.5 6 3,38.5 0 -3,38.5 6 -3]}
DEF dclose CoordinateInterpolator{key[0,1]keyValue[38.5 0 3,38.5 6 3,38.5 0 -3,38.5 6 -3,38.5 0 3,38.5 6 3,38.5 0 -3,38.5 6 -3,38.5 0 3,38.5 6 3,38.5 0 -3,38.5 6 -3,38.5 0 0,38.5 6 0,38.5 0 0,38.5 6 0]}
DEF dopen_clock TimeSensor{cycleInterval .25 loop FALSE}
DEF dclose_clock TimeSensor{cycleInterval .25 loop FALSE}
Shape {
appearance Appearance {texture ImageTexture {url "wall_9e.jpg"}}
geometry IndexedFaceSet{
coord Coordinate {point[38.5 0 -15.8 38.5 8 -18.5 38.5 8 18.5 38.5 0 15.8 38.5 6.51 -18 38.5 6.66 18 38.5 6.58 -.0441 38.5 6.55 -7.68 38.5 6.62 7.59 38.5 0 -11.5 38.5 6.53 -11.5 38.5 0 11.5 38.5 6.64 11.4 38.5 3.26 -11.5 38.5 3.32 11.4 38.5 8 -11.5 38.5 8 -7.68 38.5 8 7.59 38.5 8 -.0441 38.5 8 11.4 38.5 3.34 18 38.5 3.28 -18]}
coordIndex [ 10 7 13 -1 8 12 14 -1 7 10 15 16 -1 8 6 18 17 -1 6 7 16 18 -1 8 17 19 12 -1 12 5 20 14 -1 20 3 11 14 -1 0 21 13 9 -1 21 4 10 13 -1 19 5 12 -1 19 2 5 -1 10 4 15 -1 4 1 15 -1]
texCoord TextureCoordinate {point[1 0 1 .82 0 .82 0 0 1 .75 0 .75 .5 .75 .75 .75 .25 .75 .875 0 .875 .75 .125 0 .125 .75 .875 .25 .125 .25 .875 .75 .75 .75 .25 .75 .5 .75 .125 .75 0 .25 1 .25]}
ccw FALSE
texCoordIndex [ 10 7 13 -1 8 12 14 -1 7 10 15 16 -1 8 6 18 17 -1 6 7 16 18 -1 8 17 19 12 -1 12 5 20 14 -1 20 3 11 14 -1 0 21 13 9 -1 21 4 10 13 -1 19 5 12 -1 19 2 5 -1 10 4 15 -1 4 1 15 -1]
}}
Shape {
appearance Appearance {material Material {diffuseColor .47 .52 .58}}
geometry IndexedFaceSet {
coord Coordinate {
point[38.8 0 15 38.8 0 -15 38.5 .1 15 38.5 .1 -15 38.3 0 15 38.3 0 -15]}
coordIndex [ 1 0 2 3 -1 3 2 4 5 -1 ]
ccw FALSE
creaseAngle 3.14
}}
Shape {
appearance Appearance {texture ImageTexture {url "support_1.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point [41.5 3.3 11.5 41.5 0 11.5 41.5 6.6 7.65 41.5 6.6 0 41.5 6.6 -7.65 41.5 3.3 -11.5 41.4 2.8 -10.3 41.5 6 -6.83 32.4 0 -10.3 32.4 2.8 -10.2 41.4 0 -10.3 41.5 0 -11.5 41.5 6 0 41.5 6 6.8 41.5 2.8 10.2 41.5 0 10.3 32.5 2.8 10.2 32.5 0 10.3 32.5 6 -6.83 32.5 6 0 32.5 6 6.8 32.5 3.35 11.5 32.5 0 11.5 32.4 6.65 7.65 32.4 6.65 0 32.5 6.65 -7.65 32.5 3.3 -11.5 32.5 0 -11.5]}
coordIndex [ 6 7 4 5 -1 8 9 6 10 -1 10 6 5 11 -1 7 12 3 4 -1 12 13 2 3 -1 13 14 0 2 -1 14 15 1 0 -1 16 17 15 14 -1 9 18 7 6 -1 18 19 12 7 -1 20 16 14 13 -1 19 20 13 12 -1 21 22 17 16 -1 23 21 16 20 -1 24 23 20 19 -1 25 24 19 18 -1 26 25 18 9 -1 27 26 9 8 -1 4 3 24 25 -1 3 2 23 24 -1 2 0 21 23 -1 22 21 0 1 -1 5 4 25 26 -1 11 5 26 27 -1]
texCoord TextureCoordinate {point [ 1.25 .0133 1.26 .319 1.25 .427 1.25 1.26 1.26 2.1 1.26 2.55 .0817 2.36 .0729 1.84 .782 3.01 .787 2.61 .0906 3 1.27 2.89 .0817 1.33 .0729 .838 .0641 .397 .0641 -.034 .79 -.676 .787 -1.01 .789 1.99 .792 .996 .79 -.0124 .744 .02 .744 .312 .744 .427 .738 1.26 .74 2.1 .744 2.55 .751 2.88 -.093 2.44 .0903 2.44 -.093 2.93 .0835 2.93 -.093 1.81 .0835 1.81 -.0862 1.26 .0835 1.27 -.0794 .882 .0767 .889 -.0794 .475 -.0862 46600 .0903 .0133 .0835 .482 .896 3.02 .896 2.61 .896 1.99 .896 .999 .892 -.0162 .892 -1.01 .892 -.682 -.0855 3.01 -.0943 2.36 -.0855 1.83 -.0943 1.32 -.0855 .829 -.0943 -.034 -.0943 .389]}
ccw FALSE
texCoordIndex [ 6 7 51 50 -1 8 9 43 42 -1 10 6 50 49 -1 7 12 52 51 -1 12 13 53 52 -1 13 14 55 53 -1 14 15 54 55 -1 16 17 47 48 -1 9 18 44 43 -1 18 19 45 44 -1 20 16 48 46 -1 19 20 46 45 -1 38 39 40 41 -1 36 38 41 37 -1 34 36 37 35 -1 32 34 35 33 -1 28 32 33 29 -1 30 28 29 31 -1 4 3 24 25 -1 3 2 23 24 -1 2 0 21 23 -1 22 21 0 1 -1 5 4 25 26 -1 11 5 26 27 -1 ]
}}
Occlusion{
enabled TRUE
proxy Transform{translation 70 2.5 0 children Box{size 75 5 30}}
children[
Shape {
appearance Appearance {texture ImageTexture {url "wall_9e.jpg"}}
geometry DEF _37 IndexedFaceSet {
coord Coordinate {point[38.5 0 -15.3  38.5 7.5 -15.2  38.5 7.5 15.2  38.5 0 15.3  38.5 6.51 -15.2  38.5 6.66 15.2  38.5 6.58 -.0441  38.5 6.55 -7.68  38.5 6.62 7.59  38.5 0 -11.5  38.5 6.53 -11.5  38.5 0 11.5  38.5 6.64 11.4  38.5 3.26 -11.5  38.5 3.32 11.4  38.5 7.5 -11.5  38.5 7.5 -7.68  38.5 7.5 7.59  38.5 7.5 -.0441  38.5 7.5 11.4  38.5 3.34 15.2  38.5 3.28 -15.3]}
coordIndex [ 10 7 13 -1 8 12 14 -1 7 10 15 16 -1 8 6 18 17 -1 6 7 16 18 -1 8 17 19 12 -1 12 5 20 14 -1 20 3 11 14 -1 0 21 13 9 -1 21 4 10 13 -1 19 5 12 -1 19 2 5 -1 10 4 15 -1 4 1 15 -1]
texCoord TextureCoordinate {point[1 0 1 .82 0 .82 0 0 1 .75 0 .75 .5 .75 .75 .75 .25 .75 .875 0 .875 .75 .125 0 .125 .75 .875 .41 .125 .41 .875 .75 .75 .75 .25 .75 .5 .75 .125 .75 0 .41 1 .41]}
texCoordIndex [ 10 7 13 -1 8 12 14 -1 7 10 15 16 -1 8 6 18 17 -1 6 7 16 18 -1 8 17 19 12 -1 12 5 20 14 -1 20 3 11 14 -1 0 21 13 9 -1 21 4 10 13 -1 19 5 12 -1 19 2 5 -1 10 4 15 -1 4 1 15 -1]
}}
Shape {
appearance Appearance {texture ImageTexture {url "support_1.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point [41.5 3.3 11.5 41.5 0 11.5 41.5 6.6 7.65 41.5 6.6 0 41.5 6.6 -7.65 41.5 3.3 -11.5 41.4 2.8 -10.3 41.5 6 -6.83 32.4 0 -10.3 32.4 2.8 -10.2 41.4 0 -10.3 41.5 0 -11.5 41.5 6 0 41.5 6 6.8 41.5 2.8 10.2 41.5 0 10.3 32.5 2.8 10.2 32.5 0 10.3 32.5 6 -6.83 32.5 6 0 32.5 6 6.8 32.5 3.35 11.5 32.5 0 11.5 32.4 6.65 7.65 32.4 6.65 0 32.5 6.65 -7.65 32.5 3.3 -11.5 32.5 0 -11.5]}
coordIndex [ 6 7 4 5 -1 8 9 6 10 -1 10 6 5 11 -1 7 12 3 4 -1 12 13 2 3 -1 13 14 0 2 -1 14 15 1 0 -1 16 17 15 14 -1 9 18 7 6 -1 18 19 12 7 -1 20 16 14 13 -1 19 20 13 12 -1 21 22 17 16 -1 23 21 16 20 -1 24 23 20 19 -1 25 24 19 18 -1 26 25 18 9 -1 27 26 9 8 -1 4 3 24 25 -1 3 2 23 24 -1 2 0 21 23 -1 22 21 0 1 -1 5 4 25 26 -1 11 5 26 27 -1]
texCoord TextureCoordinate {point [ 1.25 .0133 1.26 .319 1.25 .427 1.25 1.26 1.26 2.1 1.26 2.55 .0817 2.36 .0729 1.84 .782 3.01 .787 2.61 .0906 3 1.27 2.89 .0817 1.33 .0729 .838 .0641 .397 .0641 -.034 .79 -.676 .787 -1.01 .789 1.99 .792 .996 .79 -.0124 .744 .02 .744 .312 .744 .427 .738 1.26 .74 2.1 .744 2.55 .751 2.88 -.093 2.44 .0903 2.44 -.093 2.93 .0835 2.93 -.093 1.81 .0835 1.81 -.0862 1.26 .0835 1.27 -.0794 .882 .0767 .889 -.0794 .475 -.0862 46600 .0903 .0133 .0835 .482 .896 3.02 .896 2.61 .896 1.99 .896 .999 .892 -.0162 .892 -1.01 .892 -.682 -.0855 3.01 -.0943 2.36 -.0855 1.83 -.0943 1.32 -.0855 .829 -.0943 -.034 -.0943 .389]}
ccw FALSE
texCoordIndex [ 6 7 51 50 -1 8 9 43 42 -1 10 6 50 49 -1 7 12 52 51 -1 12 13 53 52 -1 13 14 55 53 -1 14 15 54 55 -1 16 17 47 48 -1 9 18 44 43 -1 18 19 45 44 -1 20 16 48 46 -1 19 20 46 45 -1 38 39 40 41 -1 36 38 41 37 -1 34 36 37 35 -1 32 34 35 33 -1 28 32 33 29 -1 30 28 29 31 -1 4 3 24 25 -1 3 2 23 24 -1 2 0 21 23 -1 22 21 0 1 -1 5 4 25 26 -1 11 5 26 27 -1 ]
}}
Shape {
appearance Appearance{material Material{diffuseColor .15 .0625 .138}}
geometry IndexedFaceSet {
coord Coordinate {point [39.5 8.87 13 39.5 12.2 11 38.5 7.5 11.4 38.5 7.5 13 39.5 12.2 7.63 38.5 7.5 7.66 39.5 12.2 0 38.5 7.5 0 39.5 12.2 -7.63 38.5 7.5 -7.68 39.5 12.2 -11 38.5 7.5 -11.5 39.5 8.87 -13 38.5 7.5 -13]}
coordIndex [ 0 1 2 3 -1 1 4 5 2 -1 4 6 7 5 -1 6 8 9 7 -1 8 10 11 9 -1 10 12 13 11 -1 ]
ccw FALSE
}}
Shape {
appearance Appearance{material Material{diffuseColor .88 .365 .0262 specularColor .44 .303 .00967}}
geometry IndexedFaceSet {
coord Coordinate {
point [ 39.5 12.2 11 39.5 8.87 13 39.5 8.75 13 39.5 11.9 11 39.5 12.2 7.63 39.5 11.9 7.63 39.5 12.2 0 39.5 11.9 0 39.5 12.2 -7.63 39.5 11.9 -7.63 39.5 12.2 -11 39.5 11.9 -11 39.5 8.87 -13 39.5 8.75 -13 40 8.75 13 40 11.9 11 40 11.9 7.63 40 11.9 0 40 11.9 -7.63 40 11.9 -11 40 8.75 -13 40 9 13 40 12.2 11 40 12.2 7.63 40 12.2 0 40 12.2 -7.63 40 12.2 -11 40 9 -13]}
coordIndex [ 0 1 2 3 -1 4 0 3 5 -1 6 4 5 7 -1 8 6 7 9 -1 10 8 9 11 -1 12 10 11 13 -1 3 2 14 15 -1 5 3 15 16 -1 7 5 16 17 -1 9 7 17 18 -1 11 9 18 19 -1 13 11 19 20 -1 15 14 21 22 -1 16 15 22 23 -1 17 16 23 24 -1 18 17 24 25 -1 19 18 25 26 -1 20 19 26 27 -1]
ccw FALSE
creaseAngle 3.14
}}
Shape {
appearance Appearance {texture ImageTexture {url "wall_9e.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point[ 40 8 -15 40 0 -15 38.5 0 -15 38.5 8 -15 40 8 15 40 0 15 38.5 0 15 38.5 8 15]}
coordIndex [3,2,1,0,-1 4,5,6,7,-1]
texCoord TextureCoordinate{point[0 1,0 0,.25 0,.25 1]}
texCoordIndex [0,1,2,3,-1,0,1,2,3,-1]
}}
Shape {
appearance Appearance {texture ImageTexture {url "bsuppot_2.jpg"}}
geometry IndexedFaceSet {
coord Coordinate{point[38.5 6.75 15 40 8 15 40 8 15 38.5 6.75 15 40 8 13 38.5 6.66 13 40 8 -15 38.5 6.75 -15 38.5 6.66 -13 40 8 -13 38.5 8 -13 40 9 -13 40 9 13 38.5 8 13]}
coordIndex [0 1 2 3 -1 3 2 4 5 -1 6 7 8 9 -1 9 8 10 11 -1 5 4 12 13 -1]
texCoord TextureCoordinate {point[.163 .162 1 0 1 0 .165 .165 1 .35 0 .35 1 5.35 0 5.16 0 5 1 5 0 1 1 .975 1 .975 0 .973 1 .535 0 .535 0 .535 1 .535 0 .175 1 0]}
ccw FALSE
texCoordIndex [ 0 1 2 3 -1 18 19 4 5 -1 6 7 8 9 -1 14 15 10 11 -1 16 17 12 13 -1]
}}
]}#END Occlusion
]}
ROUTE dprox.enterTime TO dopen_clock.set_startTime
ROUTE dprox.enterTime TO doorSound.set_startTime
ROUTE dprox.exitTime TO doorSound.set_startTime
ROUTE dprox.isActive TO dbutton.set_enabled
ROUTE dbutton.touchTime TO dopen_clock.set_startTime
ROUTE dopen_clock.fraction_changed TO dopen.set_fraction
ROUTE dopen.value_changed TO d.set_point
ROUTE dprox.exitTime TO dclose_clock.set_startTime
ROUTE dclose_clock.fraction_changed TO dclose.set_fraction
ROUTE dclose.value_changed TO d.set_point
}#END Threshold PROTO

PROTO Hall[
field SFVec3f position 0 0 0
field SFRotation rotation 0 1 0 0
field MFString string []
exposedField SFInt32 doorChoice_1 0
exposedField SFInt32 doorChoice_2 0
exposedField SFInt32 doorChoice_3 0
exposedField SFInt32 doorChoice_4 0
exposedField MFNode door_1 []
exposedField MFNode door_2 []
exposedField MFNode door_3 []
exposedField MFNode door_4 []
exposedField SFInt32 hallEnd 0
exposedField MFNode children []
]{
Transform{translation IS position rotation IS rotation
children[
Switch{
whichChoice IS hallEnd 
choice[
Group{}
Transform{}
]}
Occlusion{
enabled TRUE
proxy Transform{translation 70 2.5 0 children Box{size 75 5 30}}
children[
DEF hallway_walls Transform {
children Shape {
appearance Appearance {
texture ImageTexture {url "wall_9e.jpg"}
}
geometry DEF _29 IndexedFaceSet {coord Coordinate{point[40 8 -15 40 0 -15 50 0 -15 50 8 -15 40 8 15 40 0 15 60 0 -15 60 8 -15 60 8 15 60 0 15 70 0 15 100 8 15 100 0 15 90 0 15 90 8 15 100 8 -15 100 0 -15 80 0 15 80 8 15 80 8 -15 80 0 -15 70 8 15 70 8 -15 70 0 -15 70 8 -15]}
coordIndex[0 3 2 1 -1 7 22 23 6 -1 20 19 15 16 -1 8 4 5 9 -1 18 21 10 17 -1 11 14 13 12 -1]
texCoord TextureCoordinate{point[0 1 0 0 1 0 1 1 -1 1 -1 0 0 0 1 1 1 1 1 0 0 0 1 1 1 0 0 0 0 1 1 1 1 0 1 0 1 1 -1 1 -1 0 0 1 0 1 0 0 1 1]}
ccw FALSE
texCoordIndex[0 3 2 1 -1 7 22 23 6 -1 20 19 15 16 -1 8 4 5 9 -1 18 21 10 17 -1 11 14 13 12 -1]
}}}
DEF trim Transform {
children Shape {
appearance Appearance{texture ImageTexture {url "bsuppot_2.jpg"}textureTransform TextureTransform {scale 5 1}}
geometry DEF _30 IndexedFaceSet {
coord Coordinate{point[40 8 15 50 8 15 50 8 15 40 8 15  60 8 15  60 8 15  80 8 15  70 8 15  70 8 15  80 8 15  100 8 15  90 8 15  90 8 15  100 8 15  50 8 13  40 8 13  60 8 13  70 8 13  80 8 13  90 8 13  100 8 13  40 8 -13  50 8 -13  50 8 -15  40 8 -15  60 8 -15 60 8 -13 70 8 -15 70 8 -13 100 8 -15 90 8 -15 90 8 -13 100 8 -13 80 8 -15 80 8 -13 90 9 -13 100 9 -13 80 9 -13 70 9 -13 60 9 -13 40 9 -13 50 9 -13 100 9 13 90 9 13 80 9 13 50 9 13 40 9 13 60 9 13 70 9 13]}
coordIndex [ 0 1 2 3 -1 1 4 5 2 -1 6 7 8 9 -1 10 11 12 13 -1 3 2 14 15 -1 2 5 16 14 -1 5 8 17 16 -1 18 17 8 9 -1 9 12 19 18 -1 20 19 12 13 -1 21 22 23 24 -1 25 23 22 26 -1 27 25 26 28 -1 29 30 31 32 -1 30 33 34 31 -1 33 27 28 34 -1 32 31 35 36 -1 31 34 37 35 -1 34 28 38 37 -1 28 26 39 38 -1 22 21 40 41 -1 26 22 41 39 -1 19 20 42 43 -1 18 19 43 44 -1 15 14 45 46 -1 14 16 47 45 -1 16 17 48 47 -1 17 18 44 48 -1]
texCoord TextureCoordinate{point[.167 0 0 0 .333 0 .5 0 .667 0 .833 0 1 0 .169 .5 0 .5 .335 .5 .5 .5 .669 .5 .835 .5 1 .5 0 .5 .169 .5 .167 .5 0 .5 .333 .5 .335 .5 .5 .5 .5 .5 1 .5 .833 .5 .835 .5 1 .5 .667 .5 .669 .5 .833 1 1 1 .667 1 .5 1 .333 1 0 1 .167 1 1 1 .833 1 .667 1 .167 1 0 1 .333 1 .5 1 0 .5 .169 .5 .335 .5 .502 .5 .669 .5 1 .5 .835 .5 0 0 .167 0 .333 0 1 0 .833 0 .5 0 .667 0]}
ccw FALSE
texCoordIndex[1 0 0 1 -1 0 2 2 0 -1 4 3 3 4 -1 6 5 5 6 -1 1 0 43 42 -1 0 2 44 43 -1 2 3 45 44 -1 46 45 3 4 -1 4 5 48 46 -1 47 48 5 6 -1 49 50 16 17 -1 18 16 50 51 -1 20 18 51 54 -1 22 23 53 52 -1 23 26 55 53 -1 26 20 54 55 -1 25 24 28 29 -1 24 27 30 28 -1 27 21 31 30 -1 21 19 32 31 -1 15 14 33 34 -1 19 15 34 32 -1 12 13 35 36 -1 11 12 36 37 -1 8 7 38 39 -1 7 9 40 38 -1 9 10 41 40 -1 10 11 37 41 -1]
}}}
DEF hallway_ceiling Transform {
children Shape {
appearance Appearance {material Material {diffuseColor 1 .5 0} }
geometry IndexedFaceSet{ccw FALSE
coord Coordinate {point[40 9 -13 40 12.2 -11 100 12.2 -11 100 9 -13 40 12.2 11 40 9 13 100 9 13 100 12.2 11 50 9 -13 50 12.2 -11 60 9 -13 60 12.2 -11 70 9 -13 70 12.2 -11 80 9 -13 80 12.2 -11 90 9 -13 90 12.2 -11 90 9 13 90 12.2 11 80 9 13 80 12.2 11 60 9 13 60 12.2 11 70 9 13 70 12.2 11 50 9 13 50 12.2 11]}
coordIndex[0 1 9 8 -1 9 11 10 8 -1 11 13 12 10 -1 13 15 14 12 -1 15 17 16 14 -1 17 2 3 16 -1 18 6 7 19 -1 20 18 19 21 -1 22 24 25 23 -1 24 20 21 25 -1 4 5 26 27 -1 26 22 23 27 -1 ]
}}}
Shape {
appearance Appearance{material Material {diffuseColor 1 .5 0}}
geometry IndexedFaceSet {ccw FALSE
coord Coordinate {point[100 12.2 11 90 12.2 11 80 12.2 11 70 12.2 11 60 12.2 11 50 12.2 11 40 12.2 11 40 12.2 7.63 40 12.2 0 40 12.2 -7.63 40 12.2 -11 50 12.2 -11 60 12.2 -11 50 12.2 -7.63 60 12.2 -7.63 70 12.2 -11 80 12.2 -11 90 12.2 -11 100 9 -13 100 12.2 -11 100 12.2 -7.63 100 12.2 0 100 12.2 7.63 90 12.2 7.63 90 12.2 0 80 12.2 7.63 70 12.2 7.63 60 12.2 7.63
 60 12.2 0 70 12.2 0 50 12.2 7.63 50 12.2 0 70 12.2 -7.63 80 12.2 -7.63 80 12.2 0 90 12.2 -7.63 45 12.2 -3.82 45 12.2 3.82 55 12.2 3.82 55 12.2 -3.82 75 12.2 -3.82 75 12.2 3.82 65 12.2 3.82 65 12.2 -3.82 95 12.2 3.82 85 12.2 3.82 85 12.2 -3.82 95 12.2 -3.82 45 12.2 -9.32 95 12.2 -9.32 85 12.2 -9.32 75 12.2 -9.32 65 12.2 -9.32 55 12.2 -9.32 45 12.2 9.32 55 12.2 9.32 65 12.2 9.32 75 12.2 9.32 85 12.2 9.32
 95 12.2 9.32 45 12.2 -11 55 12.2 -11 65 12.2 -11 85 12.2 -11 75 12.2 -11 95 12.2 -11 45 12.2 11 55 12.2 11 65 12.2 11 75 12.2 11 85 12.2 11 95 12.2 11 42.5 12.2 11 47.5 12.2 11 52.5 12.2 11 57.5 12.2 11 62.5 12.2 11 67.5 12.2 11 72.5 12.2 11 77.5 12.2 11 82.5 12.2 11 87.5 12.2 11 92.5 12.2 11 97.5 12.2 11 42.5 12.2 -11 47.5 12.2 -11 52.5 12.2 -11 57.5 12.2 -11 62.5 12.2 -11 67.5 12.2 -11 72.5 12.2 -11 77.5 12.2 -11 82.5 12.2 -11 87.5 12.2 -11 92.5 12.2 -11 97.5 12.2 -11]}
coordIndex [ 31 13 36 -1 13 9 36 -1 31 36 8 -1 36 9 8 -1 31 8 37 -1 8 7 37 -1 30 37 7 -1 30 31 37 -1
 27 38 30 -1 38 31 30 -1 27 28 38 -1 28 31 38 -1 28 39 31 -1 28 14 39 -1 39 13 31 -1 39 14 13 -1 32 40 33 -1 32 29 40 -1 29 34 40 -1 34 33 40 -1 29 41 34 -1 41 25 34 -1 29 26 41 -1 26 25 41 -1 26 42 27 -1 26 29 42 -1 29 28 42 -1 28 27 42 -1 14 28 43 -1 28 29 43 -1 32 43 29 -1 32 14 43 -1 24 44 21 -1 44 22 21 -1 24 23 44 -1 23 22 44 -1 25 23 45 -1 23 24 45 -1 34 45 24 -1 34 25 45 -1 33 34 46 -1 34 24 46 -1 33 46 35 -1 46 24 35 -1 35 47 20 -1 35 24 47 -1 24 21 47 -1 21 20 47 -1 13 48 9 -1 48 10 9 -1 13 11 48 -1 11 85 60 84 10 48 -1 95 65 94 17 49 19 -1 49 20 19 -1 17 35 49 -1 35 20 49 -1 93 63 92 16 50 17 -1 50 35 17 -1 50 33 35 -1 50 16 33 -1 91 64 90 15 51 16 -1
 51 33 16 -1 15 32 51 -1 32 33 51 -1 32 15 52 -1 15 89 62 88 12 52 -1 32 52 14 -1 52 12 14 -1 14 12 53 -1 12 87 61 86 11 53 -1 14 53 13 -1 53 11 13 -1 30 7 54 -1 7 6 54 -1 72 66 73 5 54 6 -1 5 30 54 -1 27 30 55 -1 30 5 55 -1 74 67 75 4 55 5 -1 4 27 55 -1 26 27 56 -1 27 4 56 -1 26 56 3 -1 56 4 76 68 77 3 -1 26 57 25 -1 26 3 57 -1 3 78 69 79 2 57 -1 2 25 57 -1 25 2 58 -1 2 80 70 81 1 58 -1 25 58 23 -1 58 1 23 -1 23 1 59 -1 1 82 71 83 0 59 -1 23 59 22 -1 59 0 22 -1 ]
}}

DEF hallway_floor Transform {
children Shape {
appearance Appearance {texture ImageTexture{url"bg147.jpg"}textureTransform TextureTransform{scale 3 3 }}
geometry DEF _33 IndexedFaceSet {
coord Coordinate {point [ 40 0 -15 40 0 15 50 0 -15 50 0 15 60 0 -15 60 0 15 70 0 -15 70 0 15 80 0 -15 80 0 15 90 0 -15 90 0 15 100 0 -15 100 0 15]}
coordIndex [ 2 3 1 0 -1 4 5 3 2 -1 6 7 5 4 -1 8 9 7 6 -1 10 11 9 8 -1 12 13 11 10 -1 ]
ccw FALSE
}}}

Switch{
whichChoice IS hallEnd 
choice[
Transform {translation 140 0 0 rotation 0 1 0 3.14159265
children [
Shape {
appearance Appearance {material Material{diffuseColor .88 .365 .0262 specularColor .44 .303 .00967}}
geometry IndexedFaceSet {
coord Coordinate {point [ 39.5 12.2 11 39.5 8.87 13 39.5 8.75 13 39.5 11.9 11 39.5 12.2 7.63 39.5 11.9 7.63 39.5 12.2 0 39.5 11.9 0 39.5 12.2 -7.63 39.5 11.9 -7.63 39.5 12.2 -11 39.5 11.9 -11 39.5 8.87 -13 39.5 8.75 -13 40 8.75 13 40 11.9 11 40 11.9 7.63 40 11.9 0 40 11.9 -7.63 40 11.9 -11 40 8.75 -13 40 9 13 40 12.2 11 40 12.2 7.63 40 12.2 0 40 12.2 -7.63 40 12.2 -11 40 9 -13]}
coordIndex [ 0 1 2 3 -1 4 0 3 5 -1 6 4 5 7 -1 8 6 7 9 -1 10 8 9 11 -1 12 10 11 13 -1 3 2 14 15 -1 5 3 15 16 -1 7 5 16 17 -1 9 7 17 18 -1 11 9 18 19 -1 13 11 19 20 -1 15 14 21 22 -1 16 15 22 23 -1 17 16 23 24 -1 18 17 24 25 -1 19 18 25 26 -1 20 19 26 27 -1]
ccw FALSE
creaseAngle 3.14
}}
Shape {
appearance Appearance {material Material {diffuseColor .15 .0625 .138}}
geometry IndexedFaceSet {
coord Coordinate{point[ 39.5 8.87 13 39.5 12.2 11 33.9 7.5 11.4 33.9 7.53 13 39.5 12.2 7.63 33.9 7.52 7.66 39.5 12.2 0 33.9 7.5 -.0441 39.5 12.2 -7.63 33.9 7.5 -7.68 39.5 12.2 -11 33.9 7.5 -11.5 39.5 8.87 -13 33.8 7.52 -13]}
coordIndex [ 0 1 2 3 -1 1 4 5 2 -1 4 6 7 5 -1 6 8 9 7 -1 8 10 11 9 -1 10 12 13 11 -1 ]
texCoord TextureCoordinate{point[.0556 .823 .107 .93 .105 .738 .0566 .739 .241 .93 .24 .738 .5 .932 .5 .738 .766 .934 .765 .736 .89 .932 .892 .738 .932 .822 .931 .738]}
ccw FALSE
texCoordIndex [ 0 1 2 3 -1 1 4 5 2 -1 4 6 7 5 -1 6 8 9 7 -1 8 10 11 9 -1 10 12 13 11 -1 ]
}}
Shape {
appearance Appearance {texture ImageTexture {url "wall_9e.jpg"}}
geometry IndexedFaceSet {
coord Coordinate{point[40 4 -15 35 6.75 -14 40 8 -15 40 0 -15 35 0 -15 40 4 15 40 8 15 35 6.75 14 35 0 15 40 0 15]}
coordIndex [ 0 1 2 -1 0 3 4 1 -1 5 6 7 -1 8 9 5 7 -1 8 7 1 4 -1 ]
texCoord TextureCoordinate {
point[1 .5 .5 .84 1 1 1 0 .5 0 1 .5 1 1 .5 .84 .5 0 1 0 -.5 0 -.5 .84 1.5 .84 1.5 0]}
ccw FALSE
texCoordIndex [ 0 1 2 -1 0 3 4 1 -1 5 6 7 -1 8 9 5 7 -1 10 11 12 13 -1 ]
}}
Shape {
appearance Appearance {texture ImageTexture{url"bg147.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point[40 0 -15 35 0 -15 35 0 15 40 0 15]}
coordIndex [1,2,3,0,-1]
}}
Shape {
appearance Appearance {texture ImageTexture {url "bsuppot_2.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point[35 6.75 14 40 8 15 40 8 15 35 6.75 14 40 8 13 34.5 6.66 13 40 8 -15 35 6.75 -14 34.5 6.67 -13 40 8 -13 34 7.5 -13 40 9 -13 40 9 13 34 7.5 13]}
coordIndex[ 0 1 2 3 -1 3 2 4 5 -1 6 7 8 9 -1 9 8 10 11 -1 5 4 12 13 -1 5 13 10 8 -1 ]
texCoord TextureCoordinate{point[ .165 .165 1 0 1 0 .165 .165 1 .35 0 .35 1 5 0 5 0 5 1 5 0 1 1 1 1 1 0 1 1 .5 0 .5 0 .5 1 .5 0 .175 1 0]}
ccw FALSE
texCoordIndex [ 0 1 2 3 -1 18 19 4 5 -1 6 7 8 9 -1 14 15 10 11 -1 16 17 12 13 -1 16 13 13 16 -1 ]
}}
Transform{
translation 37 0 0
rotation 0 -1 0 1.571
children[
MallBench{}
]}

Transform{translation 35.5 4 0 rotation 0 1 0 1.571
children[
LOD{range  70
level[
Group{children[
AnalogClock{}
Transform{scale 1 1 .5
children Shape{
appearance Appearance{material Material{ambientIntensity  .3 diffuseColor .36 .38 .33 specularColor 1 1 1}}
geometry Sphere{radius .125}
}}
Transform{
rotation 1 0 0 1.571
children Shape{
appearance  Appearance {material  Material {diffuseColor 1 .7 0 specularColor 1 1 0}}
geometry Cylinder{height .1 radius 1.1 bottom FALSE top FALSE}
}}
Transform{
translation 0 0 -.2
rotation 1 0 0 1.571
children Shape{
appearance  Appearance {material  Material {diffuseColor .3 0 .4}}
geometry Cylinder{height .1 radius 1 bottom FALSE side FALSE}
}}
Transform{
rotation 1 0 0 1.571
children Shape{
appearance  Appearance {material  Material {diffuseColor .25 0 .5}}
geometry Cylinder{height .001 radius .001 bottom FALSE side FALSE}
}}
Transform{
scale 1.1 1.5 1.1
rotation 0 0 1 3.142
translation 0 1.05 0
children DEF point Shape{
appearance  Appearance {material  Material {diffuseColor 0.44 0.15 0 specularColor 0.78 0.69 0.4 shininess 0.12}}
geometry Cone{height .3 bottomRadius .1}
}}
Transform{
translation 0 -1.05 0
children USE point}
Transform{
rotation 0 0 -1 1.571
translation -1.05 0 0
children USE point}
Transform{
rotation 0 0 1 1.571
translation 1.05 0 0
children USE point}
]}
Group{}
]}
]}

LOD{range 125
level[
Transform{translation 37 0 4  scale 1 1 1 children[
PalmTree{}
]}Group{}
]}
LOD{range 100 level[ Fern{position 37 0 -5 scale .8 1.5 .8} Group{} ]}
]}
Group{}
]}#END Switch
Group{children IS children}
Transform{
translation 55 0 -15
rotation 0 1 0 0
children[
Switch{
whichChoice IS doorChoice_1
choice[
Transform {
children DEF wallSection Shape {
appearance Appearance {texture ImageTexture {url "wall_9e.jpg"}}
geometry IndexedFaceSet {ccw FALSE
coord Coordinate {point[-5 8 0 -5 0 0 5 0 0 5 8 0 ]}
coordIndex[0 3 2 1 -1]
texCoord TextureCoordinate{point[0 1 0 0 1 0 1 1]}
texCoordIndex [ 0 3 2 1 -1 ]
}
}}
Group{children IS door_1}
]}#END Switch
]}
Transform{
translation 75 0 -15
rotation 0 1 0 0
children[
Switch{
whichChoice IS doorChoice_2
choice[
Group{children USE wallSection}
Group{children IS door_2}
]}#END Switch
]}
Transform{
translation 65 0 15
rotation 0 1 0 3.142
children[
Switch{
whichChoice IS doorChoice_3
choice[
Group{children USE wallSection}
Group{children IS door_3}
]}#END Switch
]}
Transform{
translation 85 0 15
rotation 0 1 0 3.142
children[
Switch{
whichChoice IS doorChoice_4
choice[
Group{children USE wallSection}
Group{children IS door_4}
]}#END Switch
]}

Transform{
translation 50 0 14
children[
MallBench{}
Transform{translation -2.5 0 0 children PalmTree{}}
]}

Transform{
translation 65 0 -14
rotation 0 1 0 3.142
children[
MallBench{}
Transform{translation -2.5 0 0 scale .5 1 .5  children Fern{}}
]}

Transform{
translation 75 0 14
children[
MallBench{}
Transform{translation 2.5 0 0 scale .75 1.25 .75 children PalmTree{}}
]}

]}#END Occlusion
]}
}#END Hall

PROTO DomeSection[
field SFRotation rotation 0 1 0 0
exposedField SFInt32 doorChoice 0
exposedField MFNode door []
exposedField SFInt32 hallChoice -1
exposedField MFNode hall []
field SFNode elevatorView Group{}
field SFVec3f elevatorPos 0 0 0
field SFInt32 maxFloor 10
]{

Transform {rotation IS rotation
children Transform{
children[

Occlusion{
enabled TRUE
proxy Box{size 90 32 90}
children[

Switch{
whichChoice IS hallChoice
choice[

DEF wing_attatchment_wall Transform {
children Shape {
appearance Appearance {
texture ImageTexture {url"wall_9e.jpg"}
textureTransform TextureTransform {scale 2 1}
}
geometry DEF _11 IndexedFaceSet { ccw FALSE
coord Coordinate {point [ -15.8 0 -40 -16.4 7.94 -35.5 16.4 7.94 -35.5 15.7 -.0461 -39.8 ]}
coordIndex [ 0 1 2 3 -1 ]
texCoord TextureCoordinate {point[ 0 0 0 .5 1 .5 1 0]}
texCoordIndex [ 0 1 2 3 -1 ]
}}}
Group{children IS hall}
]}#END Switch

DEF main_supports Transform {
children Shape{
appearance Appearance {texture ImageTexture {url "support_1.jpg"}}
geometry IndexedFaceSet{
coord Coordinate{point[0 24.7 -3.59 0 25.9 -3.59 -15.8 0 -40 -16.4 7.94 -35.5 -14.1 0 -36.9 -9.98 22.3 -22.7 -9.48 20.8 -21.8 -14.6 7.94
 -32.4 -25.2 0 -34.6 -23.4 0 -31.5 -21 7.94 -32.9 -19.2 7.94 -29.8 -13.1 22.3 -20.9 -12.6 20.8 -20 -1.55 24.7 -2.69 -1.55 25.9 -2.69 -34.6
 0 -25.2 -32.9 7.94 -21 -2.69 25.9 -1.55 -31.5 0 -23.4 -20.9 22.3 -13.1 -20 20.8 -12.6 -29.8 7.94 -19.2 -2.69 24.7 -1.55 -40 0 -15.8 -36.9
 0 -14.1 -35.5 7.94 -16.4 -32.4 7.94 -14.6 -22.7 22.3 -9.98 -21.8 20.8 -9.48 -3.59 24.7 0 -3.59 25.9 0]}
coordIndex[10 12 13 11 -1 14 13 12 15 -1 8 9 4 2 -1 10 8 2 3 -1 12 10 3 5 -1 11 13 6 7 -1 7 6 5 3 -1 26 28 29 27 -1 30 29 28 31 -1 24 25 19 16 -1 26 24 16 17 -1 28 26 17 20 -1 27 29 21 22 -1 29 30 23 21 -1 31 28 20 18 -1 30 31 18 23 -1 21 23 18 20 -1 22 21 20 17 -1 15 12 5 1 -1 6 13 14 0 -1 14 15 1 0 -1 1 5 6 0 -1 ]
texCoord TextureCoordinate {point[.713 .085 .724 .387 .302 1 .127 -1.62 .762 .996 .246 -.243 .283 2.02 .236 -.984 .185 .933 .233 .996 .874 -1.63 .766 -.991 .755 -.243 .26 .996 .26 .085 .271 .399 .0673 .815 .106 -.598 .724 .387 .106 .792 .257 .841 .269 2.01 .713 .085  0 .698 .0388 .676 .885 -.59 .744 .841 .249 2.01 .26 .085 .271 .387  .268 1 .734 .993 .647 2.95 .376 2.97 .269 -.991 .265 .987 .00216 .991 .00668 -.996 .00668 -.996 .0112 1.11 .256 -.892 .736 .991 .643 2.94 .376 2.95 .26 1 .759 -.995 .236 -.984 .262 1.99 .269 -.0159 .0112 -.0159 .00442 1.99 .00442 -.00237 .0112 2.14 .262 .0995 .269 .018 .276 2.01 -.00916 2.01 -.00916 .0248 .262 .222 -.00237 2.08 -.00237 .0587 .0112 .0384 .00442 2.1 .249 2.01 .249 .0316 .262 .127 -.00237 2.12 -.00916 -.00237 .658 2.99 .354 2.98 1.25 -.991 -.274 -1 1.25 -1.99 -.274 -1.98 .658 1.96 .343 1.97]}
ccw FALSE
texCoordIndex[38 39 13 40 -1 34 35 36 37 -1 8 9 4 2 -1 10 72 73 3 -1 12 10 3 5 -1 11 31 30 7 -1 65 6 66 67 -1 51 52 27 53 -1 47 48 49 50 -1 23 24 19 16 -1 25 70 71 17 -1 26 25 17 20 -1 45 41 44 46 -1 41 42 43 44 -1 68 26 20 69 -1 28 29 18 22 -1  54 55 56 57 -1 58 21 59 60 -1 74 12 5 75 -1 30 31 32 33 -1 14 15 1 0 -1 61 62 63 64 -1]
}}}

DEF struts Transform {
children Shape {
appearance Appearance{material Material{diffuseColor .79 .358 0 specularColor .63 .559 .0574 shininess .55}}
geometry DEF _2 IndexedFaceSet {
coord Coordinate {point[-9.66 21 -22.4 10 21 -22.4 -20.6 21 -12.9 -12.9 21 -20.6 -9.35 21 -21.5 9.35 21 -21.5 -19.7 21 -12.4 -12.4 21 -19.7 -9.35 21.5 -21.5 9.35 21.5 -21.5 -19.7 21.5 -12.4  -12.4 21.5 -19.7 -16.6 14.3 -25.9 -25.9 14.3 -16.6 -25.2 14.3 -16.1 -16.1 14.3 -25.2 12.5 14.3 -28.2 -12.5 14.3 -28.2 -12.2 14.3 -27.5  12.2 14.3 -27.5 -25.2 14.8 -16.1 -16.1 14.8 -25.2  -12.2 14.8 -27.4 12.2 14.8 -27.4 15.2 7.5 -35 -15.3 7.5 -35 -14.8 7.5 -32.9 14.8 7.5 -32.9 -14.8 8 -32.9 14.8 8 -32.9]}
coordIndex[1 0 4 5 -1 3 2 6 7 -1 5 4 8 9 -1 7 6 10 11 -1 12 13 14 15 -1 16 17 18 19 -1 15 14 20 21 -1 19 18 22 23 -1 24 25 26 27 -1 27 26 28 29 -1]
ccw FALSE
creaseAngle 3.14
}}}

DEF small_walls Transform {
children Shape {
appearance Appearance {texture ImageTexture {url "wall_9e.jpg"}}
geometry DEF _4 IndexedFaceSet {
coord Coordinate {point[-34.6 0 -25.2 -32.9 7.94 -21 -21 7.94 -32.9 -25.2 0 -34.6 -32.9 7.94 -21 -26.9 15.1 -17.1 -17.1 15.1 -26.9 -21 7.94 -32.9]}
coordIndex [ 0 1 2 3 -1 4 5 6 7 -1 ]
texCoord TextureCoordinate {point[.00173 .00442 .994 .00216 .0055 .609 .0055 .998 .998 .996 .998 .604]}
ccw FALSE
texCoordIndex [ 0 2 5 1 -1 2 3 4 5 -1 ]
}}}

DEF balcony_level_walls Transform {
children Shape {
appearance Appearance {texture ImageTexture {url "wall_9e.jpg"}textureTransform TextureTransform {scale 2 1}}
geometry DEF _5 IndexedFaceSet {
coord Coordinate {point [ -16.4 7.94 -35.5 -13.2 15.1 -29.1 13.2 15.1 -29.1 16.4 7.94 -35.5]}
coordIndex [ 0 1 2 3 -1 ]
texCoord TextureCoordinate {point [ 0 .5 .101 .996 .903 .993 1 .5 ]}
ccw FALSE
texCoordIndex [ 0 1 2 3 -1 ]
}}}

Switch{
whichChoice IS doorChoice
choice[
Group{}
Transform{translation 0 0 -29
children[
Transform{scale .8 .8 .8 translation 0 8 0 rotation 0 1 0 3.142 children IS door}
UpperWall{position 0 0 -7}
]}
]}#END Switch

Shape {
appearance Appearance{texture ImageTexture {url "fwall.jpg"}}
geometry IndexedFaceSet{
coord Coordinate {point[ -32.4 7.94 -14.6 -31.5 0 -23.4 -23.4 0 -31.5 -15.8 0 -40 -29.8 7.94 -19.2 -32.9 7.94 -21 -34.6 0 -25.2 -14.1 0 -36.9 -14.6 7.94 -32.4 -16.4 7.94 -35.5 -36.9 0 -14.1 -40 0 -15.8 -35.5 7.94 -16.4 -25.2 0 -34.6 -21 7.94 -32.9 -19.2 7.94 -29.8]}
coordIndex[ 4 5 6 1 -1 8 7 2 15 -1 13 14 15 2 -1 10 11 12 0 -1 0 4 1 10 -1 7 8 9 3 -1]
texCoord TextureCoordinate {point [ .114 0 .279 1 .114 0 .284 1 .688 1 .785 0 .785 0 .684 1 1 1 1 0 1 1 1 0 0 0 0 1 0 0 0 1]}
ccw FALSE
texCoordIndex [7 8 9 6 -1 4 5 2 3 -1 14 15 3 2 -1 0 12 13 1 -1 1 7 6 0 -1 5 4 10 11 -1]
}}

Balcony{elevatorView IS elevatorView elevatorRot IS rotation maxFloor IS maxFloor elevatorPos IS elevatorPos}

Transform{translation 0 8 0
children Elevator{elevatorView IS elevatorView elevatorRot IS rotation maxFloor IS maxFloor elevatorPos IS elevatorPos}
}

]}#END Occlusion

]}}
}#END DomeSection

PROTO Dome[
field SFVec3f position 0 0 0
field SFRotation rotation 0 1 0 0

exposedField SFInt32 doorChoice_1 0
exposedField SFInt32 doorChoice_2 0
exposedField SFInt32 doorChoice_3 0
exposedField SFInt32 doorChoice_4 0

exposedField MFNode door_1 []
exposedField MFNode door_2 []
exposedField MFNode door_3 []
exposedField MFNode door_4 []

exposedField SFInt32 hallChoice_1 0
exposedField SFInt32 hallChoice_2 0
exposedField SFInt32 hallChoice_3 0
exposedField SFInt32 hallChoice_4 0

exposedField MFNode hall_1 []
exposedField MFNode hall_2 []
exposedField MFNode hall_3 []
exposedField MFNode hall_4 []

exposedField MFNode children []

field SFNode elevatorView Group{}
field SFInt32 maxFloor 10

eventOut SFBool isInDome
]{
Transform{ translation IS position rotation IS rotation
children[

Occlusion{
enabled TRUE
isActive IS isInDome
proxy Transform{translation 0 16 0 children Box{size 90 48 90}}
children[

Transform{
translation 0 25 0
scale 1 .5 1
children[
Shape{
appearance  Appearance {material  Material {diffuseColor 0.37 0.37 0.37 specularColor 0.72 0.89 0.89 shininess 0.13}}
geometry Sphere{radius 4}
}
]}
DomeSection{
doorChoice IS doorChoice_1
door IS door_1
hallChoice IS hallChoice_1
hall IS hall_1
elevatorView IS elevatorView
maxFloor IS maxFloor
elevatorPos IS position
}
DomeSection{
rotation 0 1 0 1.570796325
doorChoice IS doorChoice_2
door IS door_2
hallChoice IS hallChoice_2
hall IS hall_2
elevatorView IS elevatorView
maxFloor IS maxFloor
elevatorPos IS position
}
DomeSection{
rotation 0 -1 0 3.14159265
doorChoice IS doorChoice_3
door IS door_3
hallChoice IS hallChoice_3
hall IS hall_3
elevatorView IS elevatorView
maxFloor IS maxFloor
elevatorPos IS position
}
DomeSection{
rotation 0 -1 0 1.570796325
doorChoice IS doorChoice_4
door IS door_4
hallChoice IS hallChoice_4
hall IS hall_4
elevatorView IS elevatorView
maxFloor IS maxFloor
elevatorPos IS position
}
Group{children IS children}
]}
]}

}#END Dome

PROTO AtriumStoreWall[
field SFVec3f position 0 0 0
field SFRotation rotation 0 1 0 0
]{
Transform { translation IS position rotation IS rotation
children Shape {
appearance Appearance {material  Material {diffuseColor .1 0 .2}}
geometry IndexedFaceSet {
coord Coordinate {point [-4 6.5 6.5,-4 0 6.5,4 6.5 6.5,4 0 6.5,-4 6.5 7,-4 0 7,4 6.5 7,4 0 7]}
coordIndex  [ 1, 0, 4, 5, -1, 0, 2, 6,4, -1, 2, 3, 7, 6, -1 ]
ccw FALSE
}}}
}#END PROTO


PROTO AtriumSection[
field SFRotation rotation 0 1 0 0
exposedField SFInt32 doorChoice 0
exposedField MFNode door []
exposedField SFInt32 hallChoice -1
exposedField MFNode hall []
field SFNode elevatorView Group{}
field SFVec3f elevatorPos 0 0 0
field SFInt32 maxFloor 50
]{
Transform{rotation IS rotation
children [

Occlusion{
enabled TRUE
proxy Transform{translation 0 16 0 children Box{size 90 48 90}}
children[

Shape {
appearance Appearance {texture DEF _ImageTexture_2 ImageTexture {url "fwall.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point [-35.5 8 -16.5 -31.5 0 -23.4 -23.4 0 -31.5 -15.8 0 -40 -33 8 -21 -36 8 -22.8 -34.6 0 -25.2 -14.1 0 -36.9 -16.8 8 -35.5 -18.5 8 -38.5 -36.9 0 -14.1 -40 0 -15.8 -38.5 8 -18.3 -25.2 0 -34.6 -22.8 8 -36 -21 8 -33]}
texCoord TextureCoordinate {point [.114 0 .279 1 .114 0 .284 1 .688 1 .785 0 .785 0 .684 1 1 1 1 0 1 1 1 0 0 0 0 1 0 0 0 1]}
coordIndex [1 6 5 4 -1 15 2 7 8 -1 2 15 14 13 -1 0 12 11 10 -1 10 1 4 0 -1 3 9 8 7 -1]
texCoordIndex [6 9 8 7 -1 3 2 5 4 -1 2 3 15 14 -1 1 13 12 0 -1 0 6 7 1 -1 11 10 4 5 -1]
}}             
Shape {
appearance DEF _Appearance_4 Appearance {texture DEF _ImageTexture_3 ImageTexture {url "wall_9e.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point [-18.5 8 -38.5 -18.5 15 -38.5 18.2 15 -38.5 18.2 8 -38.5]}
texCoord TextureCoordinate {point [0 .5 0 1 2 .1 2 .5]}
coordIndex [3 2 1 0 -1]
}}             

Shape {
appearance USE _Appearance_4
geometry IndexedFaceSet {
coord Coordinate{point[-34.6 0 -25.2 -36 8 -22.8 -22.8 8 -36 -25.2 0 -34.6 -36 8 -22.8 -36 15 -22.8 -22.8 15 -36 -22.8 8 -36]}
texCoord TextureCoordinate{point[0 0 1 0  0 .6  0 1  1 1  1 .6  -1 -1  0 0]}
coordIndex[3 2 1 0 -1 7 6 5 4 -1]
texCoordIndex[1 5 2 0 -1 5 4 3 2 -1]
}}            
Shape {
appearance Appearance {material DEF _Material_2 Material {diffuseColor .79 .358 0 specularColor .63 .559 .0574 shininess .55}}
geometry IndexedFaceSet {
coord Coordinate {point [ -22.8 14.3 -36 -36 14.3 -22.8 -35.3 14.3 -22.3 -22.3 14.3 -35.3 18.3 14.3 -38.5 -18.5 14.3 -38.5 -18.2 14.3 -37.8 17.9 14.3 -37.8 -35.3 14.8 -22.3 -22.3 14.8 -35.3 -18.2 14.8 -37.7 17.9 14.8 -37.7 18.2 8 -38.5 -18.5 8 -38.5 -16.8 7.5 -37.3 16.3 7.5 -37.3 -14.8 8 -37.3 14.9 8 -37.3]}
texCoord TextureCoordinate {point [ -1.08 -1.37 -1.33 -1.13 -1.31 -1.12 -1.07 -1.36 -.327 -1.42 -1 -1.42 -.999 -1.41 -.333 -1.41 -1.31 -1.12 -1.07 -1.36 -.999 -1.4 -.333 -1.4 -.327 -1.42 -1 -1.42 -.972 -1.4 -.364 -1.4 -.935 -1.4 -.39 -1.4]}
coordIndex [ 3 2 1 0 -1 7 6 5 4 -1 9 8 2 3 -1 11 10 6 7 -1 15 14 13 12 -1 17 16 14 15 -1]
creaseAngle 3.14
}}
Shape {
appearance Appearance {texture DEF _ImageTexture_4 ImageTexture {url "support_1.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point [ -18.5 8 -38.5 -18.5 15 -38.5 -16.8 15 -35.5 -16.8 8 -35.5 -22.8 8 -36 -21 8 -33 -22.8 15 -36 -21 15 -33 -36 8 -22.8 -36 15 -22.8 -33 15 -21 -33 8 -21 -38.5 8 -18.3 -35.5 8 -16.5 -38.5 15 -18.3 -35.5 15 -16.5]}
texCoord TextureCoordinate {point[.127 -1.62 .246 -.243 .262 .998 .236 -.984 .874 -1.63 .766 -.991 .755 -.243 .251 .0135 .106 -.598 .257 .841 .274 .998 .885 -.59 .744 .841 .251 .998 .272 -.0135 .738 -.0205 .00668 -.996 .00455 .004 .251 -1 .738 -.00916 .262 0 .759 -.995 .251 -.994 .00442 -.00237 .00423 .993 .251 .00216 .262 .0474 -.00445 .993 -.00237 .0587 .262 -.00916 -.0205 1.01 -.00916 -.00237]}
coordIndex [5 7 6 4 -1 1 0 4 6 -1 3 2 7 5 -1 0 1 2 3 -1 13 15 14 12 -1 9 8 12 14 -1 11 10 15 13 -1 8 9 10 11 -1]
solid FALSE
texCoordIndex [18 7 17 16 -1 1 0 4 6 -1 3 14 15 5 -1 31 30 2 29 -1 25 13 24 23 -1 9 8 11 12 -1 22 20 19 21 -1 28 27 10 26 -1]
}}
Shape {
appearance Appearance {texture DEF _ImageTexture ImageTexture {url "bsuppot_2.jpg"}}
geometry IndexedFaceSet {
coord Coordinate {point [-18.5 15 -38.5 -16.8 15 -35.5 -14 16 -37 -15.8 16 -40 -22.8 15 -36 -25.3 16 -34.5 -21 15 -33 -23.5 16 -31.5 -36 15 -22.8 -33 15 -21 -31.5 16 -23.5 -34.5 16 -25.3 -38.5 15 -18.3 -40 16 -15.8 -35.5 15 -16.5 -37 16 -14]}
texCoord TextureCoordinate {point [ .992 .975 .00119 .982 .691 .975 .343 .975 .992 .982 .00803 .975 .691 .975 .35 .982 .999 .517 .00803 .524 .691 .51 .35 .517 .992 .51 .00119 .517 .691 .517 .343 .51]}
coordIndex [3 2 1 0 -1 7 5 4 6 -1 2 7 6 1 -1 11 10 9 8 -1 15 13 12 14 -1 10 15 14 9 -1]
solid FALSE
texCoordIndex [0 2 14 12 -1 3 1 13 15 -1 2 3 15 14 -1 4 6 10 8 -1 7 5 9 11 -1 6 7 11 10 -1]
}}

Balcony{elevatorView IS elevatorView elevatorRot IS rotation maxFloor IS maxFloor elevatorPos IS elevatorPos}
Balcony{elevatorView IS elevatorView position 0 8 0 elevatorRot IS rotation maxFloor IS maxFloor elevatorPos IS elevatorPos}

Switch{
whichChoice IS hallChoice
choice[
DEF ahw Shape {
appearance USE _Appearance_4
geometry IndexedFaceSet {
coord Coordinate {point [-15.8 0 -40 -18.5 8 -38.5 18.2 8 -38.5 15.7 0 -40]}
texCoord TextureCoordinate {point [.15 0 0 .5 2 .5 1.85 0]}
coordIndex [3 2 1 0 -1]
}}
Group{}
Group{children[ 
 Transform{translation 0 0 -38
 children[
  Transform{scale .8 .8 .8  rotation 0 1 0 3.142 children IS hall}
  AtriumStoreWall{position 0 0 -7}
 ]}
USE ahw
]}
Group{}
]}#END Switch


Switch{
whichChoice IS doorChoice
choice[
Group{}
Transform{translation 0 0 -38
children[
Transform{scale .8 .8 .8 translation 0 8 0 rotation 0 1 0 3.142 children IS door}
AtriumStoreWall{position 0 8 -7}
]}
]}#END Switch

]}#END Occlusion

Switch{
whichChoice IS hallChoice
choice[
Group{}
Group{children IS hall}
Group{}
Transform{ rotation 0 1 0 1.571 children IS hall}
]}#END Switch
]}
}#END AtriumSection

PROTO Atrium[
field SFVec3f position 0 0 0
field SFRotation rotation 0 1 0 0

exposedField SFInt32 doorChoice_1 0
exposedField SFInt32 doorChoice_2 0
exposedField SFInt32 doorChoice_3 0
exposedField SFInt32 doorChoice_4 0

exposedField MFNode door_1 []
exposedField MFNode door_2 []
exposedField MFNode door_3 []
exposedField MFNode door_4 []

exposedField SFInt32 hallChoice_1 0
exposedField SFInt32 hallChoice_2 0
exposedField SFInt32 hallChoice_3 0
exposedField SFInt32 hallChoice_4 0

exposedField MFNode hall_1 []
exposedField MFNode hall_2 []
exposedField MFNode hall_3 []
exposedField MFNode hall_4 []

exposedField MFNode children []
field SFVec3f elevatorPos 0 0 0
field SFNode elevatorView Group{}
field SFInt32 maxFloor 30
]{
Transform{ translation IS position rotation IS rotation
children[

Occlusion{
enabled TRUE
proxy Transform{translation 0 16 0 children Box{size 212 48 212}}
children[

AtriumSection{
doorChoice IS doorChoice_1
door IS door_1
hallChoice IS hallChoice_1
hall IS hall_1
elevatorView IS elevatorView
maxFloor IS maxFloor
elevatorPos IS position
}
AtriumSection{
rotation 0 1 0 1.570796325
doorChoice IS doorChoice_2
door IS door_2
hallChoice IS hallChoice_2
hall IS hall_2
elevatorView IS elevatorView
maxFloor IS maxFloor
elevatorPos IS position
}
AtriumSection{
rotation 0 -1 0 3.14159265
doorChoice IS doorChoice_3
door IS door_3
hallChoice IS hallChoice_3
hall IS hall_3
elevatorView IS elevatorView
maxFloor IS maxFloor
elevatorPos IS position
}
AtriumSection{
rotation 0 -1 0 1.570796325
doorChoice IS doorChoice_4
door IS door_4
hallChoice IS hallChoice_4
hall IS hall_4
elevatorView IS elevatorView
maxFloor IS maxFloor
elevatorPos IS position
}

Occlusion{
enabled TRUE
proxy Transform{translation 0 16 0 children Box{size 88 48 88}}
children[

Group{children IS children}
]}

]}

]}
}#END Atrium


DEF purple Background{skyColor .1 0 .2}

DEF dn DayNight{}

DEF l2 DirectionalLight {
on TRUE
direction .53 .53 .662
}
DEF l4 DirectionalLight {
on TRUE
direction 0 -.371 -.928
}

DEF root Group{
children[


DEF SharedZone BlaxxunZone{}

DEF nav NavigationInfo {
avatarSize[ .25 1.75 .75 ]
headlight FALSE speed 1
type "WALK"
visibilityLimit 140
}
Viewpoint {
position 10 1.65 28
orientation 0 1 0 .35
fieldOfView .785
description "Enter"
}
Viewpoint {
position 3.5 1.65 9
orientation 0 1 0 .35
fieldOfView .785
description "Fountain"
}
Viewpoint {
position 21 1.65 0
orientation 0 1 0 -1.571
fieldOfView .785
description "Store Directory"
}
Viewpoint {
position 5.5 19.65 15
orientation 0 1 0 .35
fieldOfView .785
description "Top Floor"
}
Viewpoint {
position -9 1.65 -3.25
orientation 0 1 0 .35
fieldOfView .785
description "Elevator"
}
Viewpoint {
position 1 1.65 -70
orientation 0 1 0 .35
fieldOfView .785
description "Clock"
}

DEF elev_view Viewpoint{jump TRUE}


##########################################
#MALL INFO
##########################################

##Group{
#children[

 #   CacheFooler{url"http://www.cybertown.com/cgi-bin/games/fool/mall_fool_switch.pl"}
     #Inline{url"http://www.cybertown.com/places/shopping/vrml/lix.wrl"}

#]}


Transform{ scale .75 .75 .75
children[

Atrium{
 hallChoice_1 1
 doorChoice_1 1
 doorChoice_3 1
 doorChoice_2 1 
 hallChoice_3 2
 hall_3 StoreFront{storeName"Carpet Shop" linkUrl "/cgi-bin/cybertown/place?ID=0000000000000905&plc=shop&ac=index3d"}
 door_2 StoreFront{storeName"Garden Store" linkUrl "/cgi-bin/cybertown/place?ID=0000000000000906&plc=shop&ac=index3d"}
 door_1 StoreFront{storeName"Gift Shop" linkUrl "/cgi-bin/cybertown/place?ID=0000000000000902&plc=shop&ac=index3d"}
 door_3 StoreFront{storeName"Novelty Store" linkUrl "/cgi-bin/cybertown/place?ID=0000000000000908&plc=shop&ac=index3d"}
 hall_1   [
  Transform{rotation 0 1 0 1.571 children[
  Threshold{
   mall_string "To More Shops"
   hall_string "To Atrium"
  } 
  Hall{
   hallEnd 0
   doorChoice_1 1
   doorChoice_2 1
   doorChoice_3 1
   doorChoice_4 1
   door_1 [StoreFront{rotation 0 1 0 3.14 storeName["Furniture Shop"] linkUrl"http://www.cybertown.com/cgi-bin/cybertown/place?ID=0000000000000904&plc=shop&ac=index3d"}]
   door_2 [StoreFront{rotation 0 1 0 3.14 storeName["Antique Shop"] linkUrl"http://www.cybertown.com/cgi-bin/cybertown/place?ID=0000000000000911&plc=shop&ac=index3d"}]
   door_3 [StoreFront{storeName "Appliance Shop" rotation 0 1 0 3.14 linkUrl "http://www.cybertown.com/cgi-bin/cybertown/place?ID=0000000000000903&plc=shop&ac=index3d"}]
   door_4 [StoreFront{storeName "Grocery Store" rotation 0 1 0 3.14 linkUrl "http://www.cybertown.com/cgi-bin/cybertown/place?ID=0000000000000916&plc=shop&ac=index3d"}]  
  }
  ]}]
 children [
    Fountain{}
    AtriumFloor{}
    
Transform{ rotation 0 1 0 .7855
children Transform{ translation 0 8 -41
children Anchor{
url "http://www.3dfx.com" 
parameter "target=external"
description "3Dfx"
children Shape{
 appearance Appearance{texture ImageTexture{url"/ad/voodoobanner2.gif"}}
 geometry IndexedFaceSet{
  coord Coordinate{point[-5 -3 0,5 -3 0,5 3 0,-5 3 0]}
  coordIndex [0,1,2,3,-1]
  texCoord TextureCoordinate{point[0 0,1 0,1 1,0 1]}
  texCoordIndex[0,1,2,3,-1]
 }
}}}}




Group{#directory
children DEF dir1 malldirectory{position 32 0 0}
}

Group{#directory
children DEF dir2 malldirectory{position -32 0 0}
}


    
]
 elevatorView USE elev_view
 maxFloor 3
}
DEF dome1 Dome{ 
position 0 16 0  elevatorView USE elev_view  maxFloor 3
doorChoice_1 1
doorChoice_2 1
doorChoice_3 1
door_1 StoreFront{storeName"Gallery" linkUrl "/cgi-bin/cybertown/place?ID=0000000000000901&plc=shop&ac=index3d"}
door_2 StoreFront{storeName"Toy Store" linkUrl "/cgi-bin/cybertown/place?ID=0000000000000909&plc=shop&ac=index3d"}
door_3 StoreFront{storeName"Electronics Store" linkUrl "/cgi-bin/cybertown/place?ID=0000000000000907&plc=shop&ac=index3d"}
}

DEF invert Script{
eventIn SFBool set_bool
eventOut SFBool invert_changed
url"vrmlscript:function set_bool(v,t){ if(v){invert_changed = false;} else{invert_changed = true;} }"}
DEF music_trans Transform{translation 0 100 0
children[LOD{ range 80level[Sound{intensity .9
source AudioClip{url ["sounds/music.wav"]loop TRUE}
maxBack 50 maxFront 50 minBack 5 minFront 5
}Group{}]}]}
DEF music_clock TimeSensor{cycleInterval 60 loop TRUE}
DEF music_interp PositionInterpolator{key[0,.5,1]keyValue[0 100 0,0 0 0,0 100 0]}
]}]}
ROUTE dome1.isInDome TO invert.set_bool
ROUTE dome1.isInDome TO dn.set_bind
ROUTE invert.invert_changed TO purple.set_bind 
#ROUTE dir1.isActive TO nav.set_headlight
#ROUTE dir2.isActive TO nav.set_headlight
ROUTE music_clock.fraction_changed TO music_interp.set_fraction
ROUTE music_interp.value_changed TO music_trans.set_translation




Transform{
translation 24.5 1.6 14.
rotation 0 -1 0 2.06
children[
DEF Stand Transform {
translation 0 -1.61 0 
rotation 0 1 0 2.35
children [

DEF block Transform {
translation 0 0.899 -3.93e-008
rotation -0.707 0 0 1.57
scale 0.222 0.222 0.238
children [
Shape {
geometry 
IndexedFaceSet {
creaseAngle 0.559
ccw FALSE
colorPerVertex 	TRUE 
solid TRUE
convex TRUE
coord 
Coordinate {
point  [ 
-1 -1 -1,
-1.8 -1.8 1.96,
1 -1 -1,
2.06 -2.06 -0.0472,
-1 1 -1,
1 1 -1,
1.8 1.8 1.96,
-2.06 2.06 -0.0472,
-1e-006 1e-006 -3.85,
1.8 1.8 1.96,
1.8 1.8 1.96,
1.8 1.8 1.96,
-1.8 -1.8 1.96,
-1.8 -1.8 1.96,
-1.8 -1.8 1.96,
1.54 1.54 -0.0472,
2.06 1.54 -0.0472,
2.06 2.06 -0.0472,
1.54 2.06 -0.0472,
-1.54 -1.54 -0.0472,
-2.06 -1.54 -0.0472,
-2.06 -2.06 -0.0472,
-1.54 -2.06 -0.0472,
1.54 1.8 -0.0472,
-2.98e-008 -2.98e-008 -0.0472,
-0.257 2.06 -0.0472,
-2.06 0.257 -0.0472,
-1.8 -1.54 -0.0472,
-1.54 -1.8 -0.0472,
0.257 -2.06 -0.0472,
2.06 -0.257 -0.0472,
1.8 1.54 -0.0472,
]
}
coordIndex [ 
22, 21, 1, 14, -1, 4, 0, 8, -1, 17, 16, 10, 6, -1, 18, 17, 6, 11, -1, 1, 21, 20, 13, -1, 4, 8, 5, -1, 
5, 8, 2, -1, 2, 8, 0, -1, 19, 28, 22, 14, 12, -1, 15, 23, 18, 11, 9, -1, 16, 31, 15, 9, 10, -1, 9, 11, 
6, 10, -1, 20, 27, 19, 12, 13, -1, 12, 14, 1, 13, -1, 5, 2, 3, 30, 16, 17, -1, 17, 18, 25, 
7, 4, 5, -1, 4, 7, 26, 20, 21, 0, -1, 22, 29, 3, 2, 0, 21, -1, 24, 23, 15, 31, -1, 25, 18, 23, 24, -1, 
26, 7, 25, 24, -1, 27, 20, 26, 24, -1, 28, 19, 27, 24, -1, 29, 22, 28, 24, -1, 30, 3, 29, 24, 
-1, 31, 16, 30, 24, -1,  ]
color 
Color {
color  [ 
0.00784 0.00392 0.0431,0.486 0.506 0.886,0.149 0.137 0.471,0.149 0.137 0.471,0.129 0.098 0.557,
0.129 0.098 0.557,0.129 0.098 0.557,0.149 0.137 0.471,0.00784 0.00392 0.0431,0.486 0.506 0.886,
0.341 0.318 0.886,0.486 0.506 0.886,0.486 0.506 0.886,0.341 0.318 0.886,0.486 0.506 0.886,
0.11 0.0549 0.616,0.11 0.0549 0.616,0.00784 0.00392 0.0431,0.129 0.098 0.557,0.145 0.133 0.443,
0.00784 0.00392 0.0431,0.00784 0.00392 0.0431,0.145 0.133 0.443,0.11 0.0549 0.616,0.486 0.506 0.886,
0.341 0.318 0.886,0.173 0.161 0.463,0.0588 0.0275 0.329,0.145 0.133 0.443,0.224 0.184 0.749,
0.224 0.184 0.749,0.11 0.0549 0.616,
]
}
}
appearance 
Appearance {

}
}
]
}
]
}

]}

Transform{

translation -24.9 1.61 -13.58 #-25.0 1.6 13.13
rotation 0 1 0 1.04 #0 1 0 1.88
children[

USE Stand
]}

